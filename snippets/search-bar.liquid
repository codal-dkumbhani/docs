{%- unless search_btn_style -%}
  {%- assign search_btn_style = 'btn' -%}
{%- endunless -%}

<form
  action="{{ routes.search_url }}"
  method="get"
  class="input-group search-bar {{ search_bar_location }}"
  role="search"
>
  <label for="search-bar-icon" class="hidden-label">{{ 'general.search.submit' | t }}</label>
  <input type="hidden" name="type" value="{{ settings.search_type }}">
  <input type="hidden" name="options[prefix]" value="last">
  <input
    type="search"
    name="q"
    value="{{ search.terms | escape | replace: '*', '' }}"
    placeholder="{{ 'general.search.placeholder' | t }}"
    class="input-group-field"
    aria-label="{{ 'general.search.placeholder' | t }}"
  >
  <div class="input-group-btn">
    <button type="submit" id="search-bar-icon" class="{{ search_btn_style }}">
      {% render 'thermos-icon-search' %}
      <span class="icon__fallback-text">{{ 'general.search.submit' | t }}</span>
    </button>
  </div>
</form>
