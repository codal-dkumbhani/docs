{{ 'customize-product-template.css' | asset_url | stylesheet_tag }}

{%- render 'product-template-variables', product: product, current_variant: current_variant -%}
<script type="text/javascript" src="//cdne2im.doogma.com/smartmobile-v2/loader.js" async></script>

<div class="page-content page-content--product customizer-template">
  <div class="page-width">
    <div class="custom-doogma-popup open">
      <div class="custom-doogma-wrap">
        <div class="lest-side-doogma-popup">
          <div class="doogma-content-heading text-left d-md-none">
            <h2 class="h1 m-0">FUNTAINER® WATER BOTTLE 16OZ</h2>
            <h5>16oz · Stainless Steel</h5>
          </div>
          <div class="doogma-popup-image-left">
            {% render 'customize-product-images', product: product %}
          </div>
        </div>
        <div class="right-side-doogma-popup">
          <div class="doogma-popup-content-right">
            <div class="doogma-cta">
              <ul>
                {% for data in product.metafields.custom.customize_promo_banner.value %}
                  <li>{{ data }}</li>
                {% endfor %}
              </ul>
            </div>
            <div class="doogma-content-heading d-md-flex">
              <h2 class="h1 m-0">Customize your bottle</h2>
              <div class="doogma-close-btn">
                {% assign productdaata = product.metafields.custom.regular_product_url.value %}
                <a href="{{ productdaata.url }}">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="13"
                    height="12"
                    viewBox="0 0 13 12"
                    fill="none"
                  >
                    <path opacity="0.4" d="M8.28812 6L11.7052 2.58852C12.1245 2.16989 12.1245 1.49114 11.7052 1.07216L10.9458 0.313977C10.5264 -0.104659 9.84658 -0.104659 9.42692 0.313977L6.00984 3.72545L2.59277 0.313977C2.17345 -0.104659 1.49358 -0.104659 1.07392 0.313977L0.314492 1.07216C-0.104831 1.4908 -0.104831 2.16955 0.314492 2.58852L3.73157 6L0.314492 9.41148C-0.104831 9.83011 -0.104831 10.5089 0.314492 10.9278L1.07392 11.686C1.49324 12.1047 2.17345 12.1047 2.59277 11.686L6.00984 8.27455L9.42692 11.686C9.84624 12.1047 10.5264 12.1047 10.9458 11.686L11.7052 10.9278C12.1245 10.5092 12.1245 9.83045 11.7052 9.41148L8.28812 6Z" fill="#343741"></path>
                  </svg>
                </a>
              </div>
            </div>
            {%- for option in product.options_with_values -%}
              {% if option.name == 'Color' %}
                {%- for value in option.values -%}
                  {% assign firstValue = value %}
                {% endfor %}
              {% endif %}
            {% endfor %}
            <div class="align-items-center justify-content-between doogma-product-variation">
              <span class="doogma-product-specification">{{ firstValue }}</span>
              <div class="variant-wrapper variant-wrapper--button js">
                <fieldset
                  class="variant-input-wrap "
                  name="Color"
                  data-index="option1"
                  data-handle="color"
                  id="ProductSelect-7196541649090-option-0"
                >
                  <legend class="hide">Color</legend>
                  {%- for option in product.options_with_values -%}
                    {% if option.name == 'Color' %}
                      {%- for value in option.values -%}
                        {% assign doogmaColorCode = '' %}
                        {% for variant in product.variants %}
                          {% assign variantTitle = variant.title | split: '/' | first | strip %}
                          {% if value == variantTitle %}
                            {% assign doogmaColorCode = variant.metafields.custom.doogma_image_code_ %}
                            {% break %}
                          {% endif %}
                        {% endfor %}
                        {%- assign swatch_file_extension = 'png' -%}
                        {%- liquid
                          assign color_image = value | handle | append: '.' | append: swatch_file_extension | asset_img_url: '50x' | prepend: 'https:' | split: '?' | first
                          assign color_swatch_fallback = value | split: ' ' | last | handle
                        -%}
                        <div
                          class="variant-input variantInputName"
                          data-index="option1"
                          data-value="{{ value }}"
                        >
                          <input
                            type="radio"
                            {% if forloop.first %}
                              checked="checked"
                            {% endif %}
                            value="DENIM BLUE"
                            data-doogma-value="{{ doogmaColorCode }}"
                            data-index="option{{ forloop.index }}"
                            name="Color"
                            class="variant__input-7196541649090 variant__input--color-swatch-7196541649090 doogma-color"
                            data-color-name="{{ value }}"
                            data-color-index="0"
                            id="ProductSelect-7196541649090-option-color-{{ value | handle }}"
                            data-name="{{ value | replace: " ", ""  }}"
                          >
                          <label
                            for="ProductSelect-7196541649090-option-color-{{ value | handle }}"
                            class="variant__button-label color-swatch color-swatch--denim-blue"
                            style="background-image: url({{ color_image }}); background-color: {{ color_swatch_fallback }};"
                          >
                            {{ value }}
                          </label>
                        </div>
                      {% endfor %}
                    {% endif %}
                  {% endfor %}
                </fieldset>
              </div>
            </div>
            <div class="main-variant-hidden" style="display:none;">
              <select>
                {% for variant in product.variants %}
                  <option
                    value="{{ variant.id }}"
                    data-price="{{ variant.price | money }}"
                    data-qty="{{ variant.inventory_quantity }}"
                    data-compareprice="{{ variant.compare_at_price | money }}"
                  >
                    {{ variant.title }}
                  </option>
                {% endfor %}
              </select>
            </div>
            <div class="doogma-customization-main">
              <div class="switch-button">
                <input type="checkbox" class="switch-button-checkbox-front-back">
                <input
                  type="hidden"
                  class="doogma-view"
                  data-doogma-value="{{ product.metafields.custom.doogma_view_front }}"
                >
                <div class="check-btn-group">
                  <button class="active" data-value="front">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 16 16"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M10.8371 5.21942L6.89213 9.16447L5.10849 7.38073L3.74658 8.7426L6.89213 11.8881L12.199 6.58133L10.8371 5.21942Z" fill="#3FA410"/>
                      <path d="M8 0.5C3.85784 0.5 0.5 3.85784 0.5 8C0.5 12.1422 3.85784 15.5 8 15.5C12.1422 15.5 15.5 12.1422 15.5 8C15.5 3.85784 12.1421 0.5 8 0.5ZM8 13.574C4.91921 13.574 2.42592 11.081 2.42592 8C2.42592 4.91921 4.91892 2.42592 8 2.42592C11.0808 2.42592 13.5741 4.91892 13.5741 8C13.574 11.0807 11.081 13.574 8 13.574Z" fill="#3FA410"/>
                    </svg>
                    FRONT
                  </button>
                  <button data-value="back">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 16 16"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path d="M10.8371 5.21942L6.89213 9.16447L5.10849 7.38073L3.74658 8.7426L6.89213 11.8881L12.199 6.58133L10.8371 5.21942Z" fill="#3FA410"/>
                      <path d="M8 0.5C3.85784 0.5 0.5 3.85784 0.5 8C0.5 12.1422 3.85784 15.5 8 15.5C12.1422 15.5 15.5 12.1422 15.5 8C15.5 3.85784 12.1421 0.5 8 0.5ZM8 13.574C4.91921 13.574 2.42592 11.081 2.42592 8C2.42592 4.91921 4.91892 2.42592 8 2.42592C11.0808 2.42592 13.5741 4.91892 13.5741 8C13.574 11.0807 11.081 13.574 8 13.574Z" fill="#3FA410"/>
                    </svg>
                    BACK
                  </button>
                </div>
              </div>
            </div>

            <div class="doogma-front-part">
              <div class="doogma-front-body">
                <div class="front-screen1">
                  <div class="front-all-options">
                    <div class="front-inner-addtext front-option-outerbox">
                      <div class="front-addtext-box inner-boxes">
                        <input type="hidden" class="doogma-addtextfront" data-doogma-value="no">
                        <img
                          width="auto"
                          height="auto"
                          src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/text-formatting_1.png?v=1674129287"
                        >
                      </div>
                      <span class="front-add-text-title">ADD TEXT</span>
                    </div>
                    <div class="front-inner-monogram front-option-outerbox">
                      <div class="front-monogram-box inner-boxes">
                        <input type="hidden" class="doogma-addmonogramfront" data-doogma-value="no">
                        <img
                          width="auto"
                          height="auto"
                          src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Rectangle_22_1_1.png?v=1679639054"
                        >
                      </div>
                      <span class="front-monogramtext-title">ADD MONOGRAM</span>
                    </div>
                    <div class="front-inner-clipart front-option-outerbox">
                      <div class="front-clipart-box inner-boxes">
                        <input type="hidden" class="doogma-addclipartfront" data-doogma-value="no">
                        <img
                          width="auto"
                          height="auto"
                          src="https://cdn.shopify.com/s/files/1/0552/9731/0876/files/Cursive_Love_Heart_4x4_Charcoal_1100dpi_29241e78-52fd-4f1e-8ffb-b88a45c4cf3d.png?v=1706290984"
                        >
                      </div>
                      <span class="front-select-image-title">SELECT IMAGE</span>
                    </div>
                    <div class="front-inner-uploadimage front-option-outerbox">
                      <div class="front-uploadimage-box inner-boxes">
                        <img
                          width="auto"
                          height="auto"
                          src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Frame_207.svg?v=1682595782"
                        >
                        <input type="hidden" class="doogma-uploadimagefront" data-doogma-value="no">
                      </div>
                      <span class="front-upload-image-title">UPLOAD IMAGE</span>
                    </div>
                  </div>
                </div>
                <div class="front-screen2">
                  <div class="front-addtext" style="display:none;">
                    <div class="front-addtext-backbtn backbtn front-backbtn">
                      <button>
                        <span class="back-btn">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12"
                            height="19"
                            viewBox="0 0 12 19"
                            fill="none"
                          >
                            <path d="M9.72656 0L11.3203 1.59375L3.67969 9.28125L11.3203 16.9688L9.72656 18.5625L0.539062 9.28125L9.72656 0Z" fill="black"></path>
                          </svg>
                        </span>
                      </button>
                    </div>
                    <div class="front-addtext-inputtext">
                      <textarea
                        rows="3"
                        class="doogma-textareafront"
                        placeholder="TYPE TEXT HERE"
                      ></textarea>
                      <input
                        type="text"
                        class="doogma-textsinglefront"
                        placeholder="TYPE TEXT HERE"
                        style="display:none;"
                        maxlength="{{ maxlength1 }}"
                      >
                      <input
                        type="hidden"
                        class="doogma-textfrontcoordinatesvertical"
                        data-doogma-value="{{ product.metafields.custom.doogma_textfrontcoordinatesvertical }}"
                      >
                    </div>
                    <div class="front-addtext-textoriantation">
                      <p class="front-addtext-textoriantation-title">TEXT ORIENTATION</p>
                      <div class="switch-button">
                        <input type="checkbox" class="switch-button-checkbox-horizontal-vertical">
                        <input
                          type="hidden"
                          class="doogma-textorientationfront"
                          data-doogma-value="no"
                        >
                        <div class="check-btn-group">
                          <button
                            class="active oriantationSelected front-horizontal"
                            data-value="horizontal"
                          >
                            <svg
                              width="16"
                              height="16"
                              viewBox="0 0 16 16"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path d="M10.8371 5.21942L6.89213 9.16447L5.10849 7.38073L3.74658 8.7426L6.89213 11.8881L12.199 6.58133L10.8371 5.21942Z" fill="#3FA410"/>
                              <path d="M8 0.5C3.85784 0.5 0.5 3.85784 0.5 8C0.5 12.1422 3.85784 15.5 8 15.5C12.1422 15.5 15.5 12.1422 15.5 8C15.5 3.85784 12.1421 0.5 8 0.5ZM8 13.574C4.91921 13.574 2.42592 11.081 2.42592 8C2.42592 4.91921 4.91892 2.42592 8 2.42592C11.0808 2.42592 13.5741 4.91892 13.5741 8C13.574 11.0807 11.081 13.574 8 13.574Z" fill="#3FA410"/>
                            </svg>
                            HORIZONTAL
                          </button>
                          <button data-value="vertical" class="front-vertical">
                            <svg
                              width="16"
                              height="16"
                              viewBox="0 0 16 16"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path d="M10.8371 5.21942L6.89213 9.16447L5.10849 7.38073L3.74658 8.7426L6.89213 11.8881L12.199 6.58133L10.8371 5.21942Z" fill="#3FA410"/>
                              <path d="M8 0.5C3.85784 0.5 0.5 3.85784 0.5 8C0.5 12.1422 3.85784 15.5 8 15.5C12.1422 15.5 15.5 12.1422 15.5 8C15.5 3.85784 12.1421 0.5 8 0.5ZM8 13.574C4.91921 13.574 2.42592 11.081 2.42592 8C2.42592 4.91921 4.91892 2.42592 8 2.42592C11.0808 2.42592 13.5741 4.91892 13.5741 8C13.574 11.0807 11.081 13.574 8 13.574Z" fill="#3FA410"/>
                            </svg>
                            VERTICaL
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="front-addtext-fontfamily">
                      <ul class="front-addtext-fontfamily-ul">
                        <li class="front-addtext-fontfamily-li">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Roboto Cond Bold"
                              data-doogma-value="robotocondbold"
                              class="front-addtext-fontfamily-radio doogma-textfontfront"
                              checked="checked"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz.svg?v=1681289250)"
                            ></div>
                          </label>
                        </li>
                        <li class="front-addtext-fontfamily-li">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Roboto Slab Bold"
                              data-doogma-value="robotoslabbold"
                              class="front-addtext-fontfamily-radio doogma-textfontfront"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_1.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="front-addtext-fontfamily-li">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Fredoka Medium"
                              data-doogma-value="fredokamedium"
                              class="front-addtext-fontfamily-radio doogma-textfontfront"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_2.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="front-addtext-fontfamily-li" style="display:none;">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Pacifico"
                              data-doogma-value="pacifico"
                              class="front-addtext-fontfamily-radio doogma-textfontfront"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_3.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="front-addtext-fontfamily-li">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Sriracha"
                              data-doogma-value="sriracha"
                              class="front-addtext-fontfamily-radio doogma-textfontfront"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_4.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="front-addtext-fontfamily-li">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Lobster"
                              data-doogma-value="lobster"
                              class="front-addtext-fontfamily-radio doogma-textfontfront"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_5.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="front-addtext-fontfamily-li">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Dynapuff Medium"
                              data-doogma-value="dynapuffmedium"
                              class="front-addtext-fontfamily-radio"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_6.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="front-addtext-fontfamily-li">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Abril Fatface"
                              data-doogma-value="abrilfatface"
                              class="front-addtext-fontfamily-radio doogma-textfontfront"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_7.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="front-addtext-fontfamily-li" style="display:none;">
                          <label class="front-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-addtext-font"
                              value="Alfa Slab One"
                              data-doogma-value="alfaslabone"
                              class="front-addtext-fontfamily-radio doogma-textfontfront"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_8.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                      </ul>
                    </div>
                    <div class="front-addtext-notice">
                      <div class="text-notice">
                        {{ pricenotice }}
                      </div>
                    </div>
                  </div>
                  <div class="front-monogramtext" style="display:none;">
                    <div class="front-monogram-backbtn backbtn front-backbtn">
                      <button>
                        <span class="back-btn">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12"
                            height="19"
                            viewBox="0 0 12 19"
                            fill="none"
                          >
                            <path d="M9.72656 0L11.3203 1.59375L3.67969 9.28125L11.3203 16.9688L9.72656 18.5625L0.539062 9.28125L9.72656 0Z" fill="black"></path>
                          </svg>
                        </span>
                      </button>
                    </div>
                    <div class="front-monogram-inputtext">
                      <input
                        type="text"
                        name="front-monogram-inputbox"
                        maxlength="3"
                        class="front-monogram-inputbox doogma-monogramtextfront"
                        placeholder="TYPE TEXT HERE"
                        autocomplete="off"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramstylefront"
                        data-doogma-value="str"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter1front-str-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter1front_str_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter2front-str-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter2front_str_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter3front-str-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter3front_str_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter1front-ang-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter1front_ang_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter2front-ang-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter2front_ang_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter3front-ang-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter3front_ang_coordinates }}"
                      >
                    </div>
                    <div class="front-monogramtext-fontfamily">
                      <ul class="front-monogramtext-fontfamily-ul">
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Roboto Slab Bold"
                              checked=""
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront"
                              data-doogma-value="robotoslabbold"
                              data-stylefront="str"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Roboto.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_1.svg?v=1681289798"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Fredoka Medium"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront"
                              data-doogma-value="fredokamedium"
                              data-stylefront="str"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Fredoka.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_2.svg?v=1681289798"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Alfa Slab One"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront"
                              data-doogma-value="abrilfatface"
                              data-stylefront="str"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Alfa.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_7.svg?v=1681289798"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li" style="display:none;">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Pacifico"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront"
                              data-doogma-value="pacifico"
                              data-stylefront="str"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Pacifico.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_3.svg?v=1681289798"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Roboto Slab Angled"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront"
                              data-doogma-value="robotoslabbold"
                              data-stylefront="ang"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Roboto_Angled.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_9.svg?v=1681290758"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Fredoka Angled"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront"
                              data-doogma-value="fredokamedium"
                              data-stylefront="ang"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Fredoka_Angled.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_10.svg?v=1681290810"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Alfa slab angled"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront"
                              data-doogma-value="abrilfatface"
                              data-stylefront="ang"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Alfa_Angled.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0552/9731/0876/files/10oz_1.png?v=1715346155"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li" style="display:none;">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Pacifico Angled"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront"
                              data-doogma-value="pacifico"
                              data-stylefront="ang"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Pacifico_Angled.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_12.svg?v=1683882216"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Roboto Slab Single"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront singlemonofront"
                              data-doogma-value="robotoslabbold"
                              data-stylefront="single"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Roboto_Single.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_13.svg?v=1683882216"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="fredoka medium Single"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront singlemonofront"
                              data-doogma-value="fredokamedium"
                              data-stylefront="single"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Fredoka_Single.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_14.svg?v=1683882216"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Alfa slab Single"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront singlemonofront"
                              data-doogma-value="abrilfatface"
                              data-stylefront="single"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Alfa_Single.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0552/9731/0876/files/10oz_2_b6ad65c0-2124-4aec-9afb-4391b3718f78.png?v=1715346155"
                          ></span>
                        </li>
                        <li class="front-monogramtext-fontfamily-li">
                          <label class="front-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="front-monogramtext-fontfamily-radio"
                              value="Pacifico Single"
                              class="front-monogramtext-fontfamily-radio doogma-monogramfront singlemonofront"
                              data-doogma-value="pacifico"
                              data-stylefront="single"
                            >
                            <div
                              class="front-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Pacifico_Single.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_16.svg?v=1683882216"
                          ></span>
                        </li>
                      </ul>
                    </div>
                    <div class="front-addtext-notice">
                      <div class="text-notice">
                        {{ pricenotice }}
                      </div>
                    </div>
                  </div>
                  <div class="front-clipart" style="display:none;">
                    <div class="front-selectimage-backbtn backbtn front-backbtn">
                      <button>
                        <span class="back-btn">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12"
                            height="19"
                            viewBox="0 0 12 19"
                            fill="none"
                          >
                            <path d="M9.72656 0L11.3203 1.59375L3.67969 9.28125L11.3203 16.9688L9.72656 18.5625L0.539062 9.28125L9.72656 0Z" fill="black"></path>
                          </svg>
                        </span>
                      </button>
                    </div>
                    <ul class="front-clipart-ul">
                      {% for block in section.blocks %}
                        {% if block.settings.image != blank and block.settings.text != blank %}
                          <li class="front-clipart-li">
                            <label class="radio-img">
                              <input
                                type="radio"
                                name="front-clipart-inputbox"
                                value="{{ block.settings.text }}"
                                class="front-clipart-inputbox doogma-selectimagefront"
                                data-doogma-value="{{ block.settings.Doogmaimage | image_url }}"
                              >
                              <div
                                class="image"
                                style="background-image: url({{ block.settings.image | image_url  }})"
                              ></div>
                            </label>
                          </li>
                        {% endif %}
                      {% endfor %}
                    </ul>
                    <div class="front-addtext-notice">
                      <div class="text-notice">
                        {{ pricenotice }}
                      </div>
                    </div>
                  </div>
                  <div class="front-uploadimage" style="display:none;">
                    <input
                      type="hidden"
                      name=""
                      class="doogma-uploadedimagefrontcoordinates"
                      data-doogma-value="{{ product.metafields.custom.doogma_uploadedimagefrontcoordinates }}"
                    >
                    <div class="front-uploadimage-backbtn backbtn front-backbtn">
                      <button>
                        <span class="back-btn">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12"
                            height="19"
                            viewBox="0 0 12 19"
                            fill="none"
                          >
                            <path d="M9.72656 0L11.3203 1.59375L3.67969 9.28125L11.3203 16.9688L9.72656 18.5625L0.539062 9.28125L9.72656 0Z" fill="black"></path>
                          </svg>
                        </span>
                      </button>
                    </div>
                    <div class="front-image-upalod-title">
                      <span>
                        <img width="auto" height="auto" src="{{ uploadImagelogo | image_url }}">
                        {{ uploadImageText }}
                      </span>
                    </div>
                    <ul>
                      <li>
                        <figure>
                          <img width="auto" height="auto" src="{{ logo1 | image_url }}">
                        </figure>
                        <p>{{ label1 }}</p>
                      </li>
                      <li>
                        <figure>
                          <img width="auto" height="auto" src="{{ logo2 | image_url }}">
                        </figure>
                        <p>{{ label2 }}</p>
                      </li>
                      <li>
                        <figure>
                          <img width="auto" height="auto" src="{{ logo3 | image_url }}">
                        </figure>
                        <p>{{ label3 }}</p>
                      </li>
                      <li>
                        <figure>
                          <img width="auto" height="auto" src="{{ logo4 | image_url }}">
                        </figure>
                        <p>{{ label4 }}</p>
                      </li>
                    </ul>
                    <div class="front-image-upalod-input">
                      <span>(accepted files are PNG, JPEG, GIF, SVG, BITMAP)</span>
                    </div>
                    <div class="front-text-notice">
                      {{ uploadImageDesc }}
                    </div>
                    <div class="front-addtext-notice">
                      <div class="text-notice">
                        {{ pricenotice }}
                      </div>
                    </div>
                  </div>
                </div>
                <div class="front-screen3-mobile" style="display:none;">
                  <button type="button" class="edit-front-mobile">Edit Front</button>
                </div>
              </div>
              <div class="doogma-front-footer">
                <div class="front-addtocart-btn">
                  <div class="doogma-bottom-add-to-cart">
                    {% assign product_price = product
                      | money_without_currency
                      | minus: 6
                      | round: 2
                      | times: 100
                      | round
                      | money_without_currency
                    %}

                    {% if freecustomization == true %}
                      {% assign product_price = product.price | money_without_currency %}
                      {% assign compare_price = product.compare_at_price | money_without_currency %}
                      <div class="doogma-price-cover">
                        <div class="doogma-pricing" data-real-price="${{ product_price }}">
                          ${{ product_price }}
                        </div>
                        {% if compare_price != blank %}
                          <div class="doogma-comparePricing" data-real-price="${{ compare_price }}">
                            ${{ compare_price }}
                          </div>
                        {% endif %}
                      </div>
                    {% else %}
                      {% assign product_price = product.price
                        | money_without_currency
                        | minus: 6
                        | round: 2
                        | times: 100
                        | round
                        | money_without_currency
                      %}
                      <div class="doogma-pricing" data-real-price="${{ product_price }}">
                        ${{ product_price }}
                      </div>
                    {% endif %}

                    <div class="doogma-quantity-selector">
                      <div class="qty__wrapper">
                        <button type="button" class="minusdoogmabtn">
                          <svg
                            width="10"
                            height="3"
                            viewBox="0 0 10 3"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path d="M9.28571 0.214355H0.714286C0.319866 0.214355 0 0.598195 0 1.0715V1.92864C0 2.40194 0.319866 2.78578 0.714286 2.78578H9.28571C9.68013 2.78578 10 2.40194 10 1.92864V1.0715C10 0.598195 9.68013 0.214355 9.28571 0.214355Z" fill="#AAB1CE"></path>
                          </svg>
                        </button>
                        <input
                          type="text"
                          value="1"
                          min="1"
                          name="quantity"
                          class="doogmaquantity"
                          max="25"
                        >
                        <button type="button" class="plusdoogmabtn">
                          <svg
                            width="10"
                            height="11"
                            viewBox="0 0 10 11"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path opacity="0.8" d="M9.28571 4.42857H6.07143V1.21429C6.07143 0.819866 5.75156 0.5 5.35714 0.5H4.64286C4.24844 0.5 3.92857 0.819866 3.92857 1.21429V4.42857H0.714286C0.319866 4.42857 0 4.74844 0 5.14286V5.85714C0 6.25156 0.319866 6.57143 0.714286 6.57143H3.92857V9.78571C3.92857 10.1801 4.24844 10.5 4.64286 10.5H5.35714C5.75156 10.5 6.07143 10.1801 6.07143 9.78571V6.57143H9.28571C9.68013 6.57143 10 6.25156 10 5.85714V5.14286C10 4.74844 9.68013 4.42857 9.28571 4.42857Z" fill="#ABB2CE"></path>
                          </svg>
                        </button>
                      </div>
                    </div>
                    <div class="doogma-addtocart">
                      <div class="add-to-cart-btn flex-fill">
                        <button
                          type="button"
                          name="add"
                          id="AddToCart-7196541649090"
                          class="doogma-main-product-btn btn btn--full p-0 add-to-cart-doogma add-to-cart disablebtn"
                        >
                          <div class="container-fluid">
                            <span id="AddToCartText-7196541649090" data-default-text="">
                              Add to cart
                            </span>
                          </div>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="bottom-doogma-btns" style="display:none;">
                  <button type="button" class="doogma-start-over">START OVER</button>
                  <button class="btn-lg doogma-saveand-preview disabledbtn">
                    SAVE &amp; PREVIEW
                  </button>
                </div>
                <div class="bottom-doogma-btns-mobile" style="display:none;">
                  <button type="button" class="doogma-start-over">START OVER</button>
                  <button class="btn-lg mobile-prewview">PREVIEW</button>
                </div>
              </div>
            </div>
            <div class="doogma-back-part">
              <div class="doogma-back-body">
                <div class="back-screen1">
                  <div class="back-all-options">
                    <div class="back-inner-addtext back-option-outerbox">
                      <div class="back-addtext-box inner-boxes">
                        <input type="hidden" class="doogma-addtextback" data-doogma-value="no">
                        <img
                          width="auto"
                          height="auto"
                          src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/text-formatting_1.png?v=1674129287"
                        >
                      </div>
                      <span class="back-add-text-title">ADD TEXT</span>
                    </div>
                    <div class="back-inner-monogram back-option-outerbox">
                      <div class="back-monogram-box inner-boxes">
                        <input type="hidden" class="doogma-addmonogramback" data-doogma-value="no">
                        <img
                          width="auto"
                          height="auto"
                          src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Rectangle_22_1_1.png?v=1679639054"
                        >
                      </div>
                      <span class="back-monogramtext-title">ADD MONOGRAM</span>
                    </div>
                    <div class="back-inner-clipart back-option-outerbox">
                      <div class="back-clipart-box inner-boxes">
                        <input type="hidden" class="doogma-addclipartback" data-doogma-value="no">
                        <img
                          width="auto"
                          height="auto"
                          src="https://cdn.shopify.com/s/files/1/0552/9731/0876/files/Cursive_Love_Heart_4x4_Charcoal_1100dpi_29241e78-52fd-4f1e-8ffb-b88a45c4cf3d.png?v=1706290984"
                        >
                      </div>
                      <span class="back-select-image-title">SELECT IMAGE</span>
                    </div>
                    <div class="back-inner-uploadimage back-option-outerbox">
                      <div class="back-uploadimage-box inner-boxes">
                        <input type="hidden" class="doogma-uploadimageback" data-doogma-value="no">
                        <img
                          width="auto"
                          height="auto"
                          src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Frame_207.svg?v=1682595782"
                        >
                      </div>
                      <span class="back-upload-image-title">UPLOAD IMAGE</span>
                    </div>
                  </div>
                </div>
                <div class="back-screen2">
                  <div class="back-addtext" style="display:none;">
                    <div class="back-addtext-backbtn backbtn back-backbtn">
                      <button>
                        <span class="back-btn">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12"
                            height="19"
                            viewBox="0 0 12 19"
                            fill="none"
                          >
                            <path d="M9.72656 0L11.3203 1.59375L3.67969 9.28125L11.3203 16.9688L9.72656 18.5625L0.539062 9.28125L9.72656 0Z" fill="black"></path>
                          </svg>
                        </span>
                      </button>
                    </div>
                    <div class="back-addtext-inputtext">
                      <textarea
                        rows="3"
                        class="doogma-textareaback"
                        placeholder="TYPE TEXT HERE"
                      ></textarea>
                      <input
                        type="text"
                        class="doogma-textsingleback"
                        placeholder="TYPE TEXT HERE"
                        style="display:none;"
                        maxlength="{{ maxlength1 }}"
                      >
                      <input
                        type="hidden"
                        class="doogma-textbackcoordinatesvertical"
                        data-doogma-value="{{ product.metafields.custom.doogma_textbackcoordinatesvertical }}"
                      >
                    </div>
                    <div class="back-addtext-textoriantation">
                      <p class="back-addtext-textoriantation-title">TEXT ORIENTATION</p>
                      <div class="switch-button">
                        <input type="checkbox" class="switch-button-checkbox-horizontal-vertical ">
                        <input
                          type="hidden"
                          class="doogma-textorientationback"
                          data-doogma-value="no"
                        >
                        <div class="check-btn-group">
                          <button
                            class="active oriantationSelected front-horizontal"
                            data-value="horizontal"
                          >
                            <svg
                              width="16"
                              height="16"
                              viewBox="0 0 16 16"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path d="M10.8371 5.21942L6.89213 9.16447L5.10849 7.38073L3.74658 8.7426L6.89213 11.8881L12.199 6.58133L10.8371 5.21942Z" fill="#3FA410"/>
                              <path d="M8 0.5C3.85784 0.5 0.5 3.85784 0.5 8C0.5 12.1422 3.85784 15.5 8 15.5C12.1422 15.5 15.5 12.1422 15.5 8C15.5 3.85784 12.1421 0.5 8 0.5ZM8 13.574C4.91921 13.574 2.42592 11.081 2.42592 8C2.42592 4.91921 4.91892 2.42592 8 2.42592C11.0808 2.42592 13.5741 4.91892 13.5741 8C13.574 11.0807 11.081 13.574 8 13.574Z" fill="#3FA410"/>
                            </svg>
                            HORIZONTAL
                          </button>
                          <button data-value="vertical" class="front-vertical">
                            <svg
                              width="16"
                              height="16"
                              viewBox="0 0 16 16"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path d="M10.8371 5.21942L6.89213 9.16447L5.10849 7.38073L3.74658 8.7426L6.89213 11.8881L12.199 6.58133L10.8371 5.21942Z" fill="#3FA410"/>
                              <path d="M8 0.5C3.85784 0.5 0.5 3.85784 0.5 8C0.5 12.1422 3.85784 15.5 8 15.5C12.1422 15.5 15.5 12.1422 15.5 8C15.5 3.85784 12.1421 0.5 8 0.5ZM8 13.574C4.91921 13.574 2.42592 11.081 2.42592 8C2.42592 4.91921 4.91892 2.42592 8 2.42592C11.0808 2.42592 13.5741 4.91892 13.5741 8C13.574 11.0807 11.081 13.574 8 13.574Z" fill="#3FA410"/>
                            </svg>
                            VERTICaL
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="back-addtext-fontfamily">
                      <ul class="back-addtext-fontfamily-ul">
                        <li class="back-addtext-fontfamily-li">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Roboto Cond Bold"
                              data-doogma-value="robotocondbold"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                              checked="checked"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz.svg?v=1681289250)"
                            ></div>
                          </label>
                        </li>
                        <li class="back-addtext-fontfamily-li">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Roboto Slab Bold"
                              data-doogma-value="robotoslabbold"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_1.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="back-addtext-fontfamily-li">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Fredoka Medium"
                              data-doogma-value="fredokamedium"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_2.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="back-addtext-fontfamily-li" style="display:none;">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Pacifico"
                              data-doogma-value="pacifico"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_3.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="back-addtext-fontfamily-li">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Sriracha"
                              data-doogma-value="sriracha"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_4.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="back-addtext-fontfamily-li">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Lobster"
                              data-doogma-value="lobster"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_5.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="back-addtext-fontfamily-li">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Dynapuff Medium"
                              data-doogma-value="dynapuffmedium"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_6.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="back-addtext-fontfamily-li">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Abril Fatface"
                              data-doogma-value="abrilfatface"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_7.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                        <li class="back-addtext-fontfamily-li" style="display:none;">
                          <label class="back-addtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-addtext-font"
                              value="Alfa Slab One"
                              data-doogma-value="alfaslabone"
                              class="back-addtext-fontfamily-radio doogma-textfontback"
                            >
                            <div
                              class="image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_8.svg?v=1681289798)"
                            ></div>
                          </label>
                        </li>
                      </ul>
                    </div>
                    <div class="back-addtext-notice">
                      <div class="text-notice">
                        {{ pricenotice }}
                      </div>
                    </div>
                  </div>
                  <div class="back-monogramtext" style="display:none;">
                    <div class="back-monogram-backbtn backbtn back-backbtn">
                      <button>
                        <span class="back-btn">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12"
                            height="19"
                            viewBox="0 0 12 19"
                            fill="none"
                          >
                            <path d="M9.72656 0L11.3203 1.59375L3.67969 9.28125L11.3203 16.9688L9.72656 18.5625L0.539062 9.28125L9.72656 0Z" fill="black"></path>
                          </svg>
                        </span>
                      </button>
                    </div>
                    <div class="back-monogram-inputtext">
                      <input
                        type="text"
                        name="back-monogram-inputbox"
                        maxlength="3"
                        class="back-monogram-inputbox doogma-monogramtextback"
                        placeholder="TYPE TEXT HERE"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramstyleback"
                        data-doogma-value="str"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter1back-str-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter1back_str_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter2back-str-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter2back_str_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter3back-str-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter3back_str_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter1back-ang-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter1back_ang_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter2back-ang-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter2back_ang_coordinates }}"
                      >
                      <input
                        type="hidden"
                        name=""
                        class="doogma-monogramletter3back-ang-coordinates"
                        data-doogma-value="{{ product.metafields.custom.doogma_monogramletter3back_ang_coordinates }}"
                      >
                    </div>
                    <div class="back-monogramtext-fontfamily">
                      <ul class="back-monogramtext-fontfamily-ul">
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Roboto Slab Bold"
                              checked=""
                              class="back-monogramtext-fontfamily-radio doogma-monogramback"
                              data-doogma-value="robotoslabbold"
                              data-styleback="str"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Roboto.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_1.svg?v=1681289798"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Fredoka Medium"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback"
                              data-doogma-value="fredokamedium"
                              data-styleback="str"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Fredoka.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_2.svg?v=1681289798"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Alfa Slab One"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback"
                              data-doogma-value="abrilfatface"
                              data-styleback="str"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Alfa.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_7.svg?v=1681289798"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li" style="display:none;">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Pacifico"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback"
                              data-doogma-value="pacifico"
                              data-styleback="str"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Pacifico.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_3.svg?v=1681289798"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Roboto Slab Angled"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback"
                              data-doogma-value="robotoslabbold"
                              data-styleback="ang"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Roboto_Angled.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_9.svg?v=1681290758"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Fredoka Angled"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback"
                              data-doogma-value="fredokamedium"
                              data-styleback="ang"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Fredoka_Angled.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_10.svg?v=1681290810"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Alfa slab angled"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback"
                              data-doogma-value="abrilfatface"
                              data-styleback="ang"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Alfa_Angled.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0552/9731/0876/files/10oz_1.png?v=1715346155"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li" style="display:none;">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Pacifico Angled"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback"
                              data-doogma-value="pacifico"
                              data-styleback="ang"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Pacifico_Angled.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_12.svg?v=1683882216"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Roboto Slab Single"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback singlemonoback"
                              data-doogma-value="robotoslabbold"
                              data-styleback="single"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Roboto_Single.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_13.svg?v=1683882216"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="fredoka medium Single"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback singlemonoback"
                              data-doogma-value="fredokamedium"
                              data-styleback="single"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Fredoka_Single.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_14.svg?v=1683882216"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Alfa slab Single"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback singlemonoback"
                              data-doogma-value="abrilfatface"
                              data-styleback="single"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Alfa_Single.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0552/9731/0876/files/10oz_2_b6ad65c0-2124-4aec-9afb-4391b3718f78.png?v=1715346155"
                          ></span>
                        </li>
                        <li class="back-monogramtext-fontfamily-li">
                          <label class="back-monogramtext-fontfamily-label">
                            <input
                              type="radio"
                              name="back-monogramtext-fontfamily-radio"
                              value="Pacifico Single"
                              class="back-monogramtext-fontfamily-radio doogma-monogramback singlemonoback"
                              data-doogma-value="pacifico"
                              data-styleback="single"
                            >
                            <div
                              class="back-monogramtext-fontfamily-image"
                              style="background-image: url(https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Pacifico_Single.svg?v=1683867435)"
                            ></div>
                          </label>
                          <span
                            ><img
                              width="auto"
                              height="auto"
                              src="https://cdn.shopify.com/s/files/1/0577/5559/9042/files/10oz_16.svg?v=1683882216"
                          ></span>
                        </li>
                      </ul>
                    </div>
                    <div class="back-addtext-notice">
                      <div class="text-notice">
                        {{ pricenotice }}
                      </div>
                    </div>
                  </div>
                  <div class="back-clipart" style="display:none;">
                    <div class="back-selectimage-backbtn backbtn back-backbtn">
                      <button>
                        <span class="back-btn">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12"
                            height="19"
                            viewBox="0 0 12 19"
                            fill="none"
                          >
                            <path d="M9.72656 0L11.3203 1.59375L3.67969 9.28125L11.3203 16.9688L9.72656 18.5625L0.539062 9.28125L9.72656 0Z" fill="black"></path>
                          </svg>
                        </span>
                      </button>
                    </div>
                    <ul class="back-clipart-ul">
                      {% for block in section.blocks %}
                        {% if block.settings.image != blank and block.settings.text != blank %}
                          <li class="back-clipart-li">
                            <label class="radio-img">
                              <input
                                type="radio"
                                name="back-clipart-inputbox"
                                value="{{ block.settings.text }}"
                                class="back-clipart-inputbox doogma-selectimageback"
                                data-doogma-value="{{ block.settings.Doogmaimage | image_url  }}"
                              >
                              <div
                                class="image"
                                style="background-image: url({{ block.settings.image | image_url  }})"
                              ></div>
                            </label>
                          </li>
                        {% endif %}
                      {% endfor %}
                    </ul>
                    <div class="back-addtext-notice">
                      <div class="text-notice">
                        {{ pricenotice }}
                      </div>
                    </div>
                  </div>
                  <div class="back-uploadimage" style="display:none;">
                    <input
                      type="hidden"
                      name=""
                      class="doogma-uploadedimagebackcoordinates"
                      data-doogma-value="{{ product.metafields.custom.doogma_uploadedimagebackcoordinates }}"
                    >
                    <div class="back-uploadimage-backbtn backbtn back-backbtn">
                      <button>
                        <span class="back-btn">
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12"
                            height="19"
                            viewBox="0 0 12 19"
                            fill="none"
                          >
                            <path d="M9.72656 0L11.3203 1.59375L3.67969 9.28125L11.3203 16.9688L9.72656 18.5625L0.539062 9.28125L9.72656 0Z" fill="black"></path>
                          </svg>
                        </span>
                      </button>
                    </div>
                    <div class="back-image-upalod-title">
                      <span>
                        <img width="auto" height="auto" src="{{ uploadImagelogo | image_url  }}">
                        {{ uploadImageText }}
                      </span>
                    </div>
                    <ul>
                      <li>
                        <figure>
                          <img width="auto" height="auto" src="{{ logo1 | image_url }}">
                        </figure>
                        <p>{{ label1 }}</p>
                      </li>
                      <li>
                        <figure>
                          <img width="auto" height="auto" src="{{ logo2 | image_url }}">
                        </figure>
                        <p>{{ label2 }}</p>
                      </li>
                      <li>
                        <figure>
                          <img width="auto" height="auto" src="{{ logo3 | image_url }}">
                        </figure>
                        <p>{{ label3 }}</p>
                      </li>
                      <li>
                        <figure>
                          <img width="auto" height="auto" src="{{ logo4 | image_url }}">
                        </figure>
                        <p>{{ label4 }}</p>
                      </li>
                    </ul>
                    <div class="back-image-upalod-input">
                      <span>(accepted files are PNG, JPEG, GIF, SVG, BITMAP)</span>
                    </div>
                    <div class="back-text-notice">
                      {{ uploadImageDesc }}
                    </div>
                    <div class="back-addtext-notice">
                      <div class="text-notice">
                        {{ pricenotice }}
                      </div>
                    </div>
                  </div>
                </div>
                <div class="back-screen3-mobile" style="display:none;">
                  <button type="button" class="edit-back-mobile">Edit Back</button>
                </div>
              </div>
              <div class="doogma-back-footer">
                <div class="front-addtocart-btn">
                  <div class="doogma-bottom-add-to-cart">
                    {% assign product_price = product
                      | money_without_currency
                      | minus: 6
                      | round: 2
                      | times: 100
                      | round
                      | money_without_currency
                    %}

                    {% if freecustomization == true %}
                      {% assign product_price = product.price | money_without_currency %}
                      {% assign compare_price = product.compare_at_price | money_without_currency %}
                      <div class="doogma-price-cover">
                        <div class="doogma-pricing" data-real-price="${{ product_price }}">
                          ${{ product_price }}
                        </div>
                        {% if compare_price != blank %}
                          <div class="doogma-comparePricing" data-real-price="${{ compare_price }}">
                            ${{ compare_price }}
                          </div>
                        {% endif %}
                      </div>
                    {% else %}
                      {% assign product_price = product.price
                        | money_without_currency
                        | minus: 6
                        | round: 2
                        | times: 100
                        | round
                        | money_without_currency
                      %}
                      <div class="doogma-pricing" data-real-price="${{ product_price }}">
                        ${{ product_price }}
                      </div>
                    {% endif %}

                    <div class="doogma-quantity-selector">
                      <div class="qty__wrapper">
                        <button type="button" class="minusdoogmabtn">
                          <svg
                            width="10"
                            height="3"
                            viewBox="0 0 10 3"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path d="M9.28571 0.214355H0.714286C0.319866 0.214355 0 0.598195 0 1.0715V1.92864C0 2.40194 0.319866 2.78578 0.714286 2.78578H9.28571C9.68013 2.78578 10 2.40194 10 1.92864V1.0715C10 0.598195 9.68013 0.214355 9.28571 0.214355Z" fill="#AAB1CE"></path>
                          </svg>
                        </button>
                        <input
                          type="text"
                          value="1"
                          min="1"
                          name="quantity"
                          class="doogmaquantity"
                          max="25"
                        >
                        <button type="button" class="plusdoogmabtn">
                          <svg
                            width="10"
                            height="11"
                            viewBox="0 0 10 11"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path opacity="0.8" d="M9.28571 4.42857H6.07143V1.21429C6.07143 0.819866 5.75156 0.5 5.35714 0.5H4.64286C4.24844 0.5 3.92857 0.819866 3.92857 1.21429V4.42857H0.714286C0.319866 4.42857 0 4.74844 0 5.14286V5.85714C0 6.25156 0.319866 6.57143 0.714286 6.57143H3.92857V9.78571C3.92857 10.1801 4.24844 10.5 4.64286 10.5H5.35714C5.75156 10.5 6.07143 10.1801 6.07143 9.78571V6.57143H9.28571C9.68013 6.57143 10 6.25156 10 5.85714V5.14286C10 4.74844 9.68013 4.42857 9.28571 4.42857Z" fill="#ABB2CE"></path>
                          </svg>
                        </button>
                      </div>
                    </div>
                    <div class="doogma-addtocart">
                      <div class="add-to-cart-btn flex-fill">
                        <button
                          type="button"
                          name="add"
                          id="AddToCart-7196541649090"
                          class="doogma-main-product-btn btn btn--full p-0 add-to-cart-doogma add-to-cart disablebtn"
                        >
                          <div class="container-fluid">
                            <span id="AddToCartText-7196541649090" data-default-text="">
                              Add to cart
                            </span>
                          </div>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="bottom-doogma-btns" style="display:none;">
                  <button type="button" class="doogma-start-over">START OVER</button>
                  <button class="btn-lg doogma-saveand-preview disabledbtn">
                    SAVE &amp; PREVIEW
                  </button>
                </div>
                <div class="bottom-doogma-btns-mobile" style="display:none;">
                  <button type="button" class="doogma-start-over">START OVER</button>
                  <button class="btn-lg mobile-prewview">PREVIEW</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="customizer-legal-notice-doogma-modal">
  <div class="customizer-legal-notice-modal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">JUST A QUICK NOTE</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <p>{{ quicknote }}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">I UNDERSTAND</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="customizer-over-doogma-modal">
  <div class="customizer-over-modal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">JUST A QUICK CHECK</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <p>{{ notice }}</p>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-start-over btn-default cansel-over-doogma"
            data-dismiss="modal"
          >
            CANCEL
          </button>
          <button
            type="button"
            class="btn btn-dark btn-default start-over-doogma"
            data-dismiss="modal"
          >
            YES, START OVER
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="customizer-cart-doogma-modal">
  <div class="customizer-cart-modal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">PLEASE CONFIRM BEFORE PURCHASING</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          {{ legalnotice }}
        </div>
        <div class="modal-footer">
          <div class="form-group">
            <input type="checkbox" id="cart-box">
            <label for="cart-box">I agree to the Terms and Conditions.</label>
          </div>
          <div class="modal-footer-btn">
            <button
              type="button"
              class="btn btn-start-over btn-default back-to-design"
              data-dismiss="modal"
            >
              BACK TO DESIGN
            </button>
            <button
              type="button"
              class="btn btn-dark btn-default doogmaAcceptAddToCart"
              data-dismiss="modal"
              disabled
            >
              ACCEPT
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<input type="hidden" name="" class="doogma-uploadedimagefilefront">
<input type="hidden" name="" class="doogma-uploadedimagefileback">
<input type="hidden" name="" class="doogma-viewproductpagewithyoursavedselections">
<input type="hidden" name="" class="doogma-viewyourproof">
<input type="hidden" name="" class="doogma-viewprintoutput">
<input type="hidden" name="" class="doogma-viewfront">
<input type="hidden" name="" class="doogma-viewback">
<input
  type="hidden"
  name=""
  class="doogma-scaleup"
  data-doogma-value="{{ product.metafields.custom.doogma_scaleup }}"
>
<input
  type="hidden"
  name=""
  class="doogma-printcoordinatesfront"
  data-doogma-value="{{ product.metafields.custom.doogma_printcoordinatesfront }}"
>
<input
  type="hidden"
  name=""
  class="doogma-printcoordinatesback"
  data-doogma-value="{{ product.metafields.custom.doogma_printcoordinatesback }}"
>

<input
  type="hidden"
  name=""
  class="doogma-textfrontcoordinates"
  data-doogma-value="{{ product.metafields.custom.doogma_textfrontcoordinates }}"
>
<input
  type="hidden"
  name=""
  class="doogma-textbackcoordinates"
  data-doogma-value="{{ product.metafields.custom.doogma_textbackcoordinates }}"
>

<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter1size_abrilfatface }}"
  class="doogma-monogramletter1size-abrilfatface"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter2size_abrilfatface }}"
  class="doogma-monogramletter2size-abrilfatface"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter3size_abrilfatface }}"
  class="doogma-monogramletter3size-abrilfatface"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter1size_fredokamedium }}"
  class="doogma-monogramletter1size-fredokamedium"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter2size_fredokamedium }}"
  class="doogma-monogramletter2size-fredokamedium"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter3size_fredokamedium }}"
  class="doogma-monogramletter3size-fredokamedium"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter1size_robotoslabbold }}"
  class="doogma-monogramletter1size-robotoslabbold"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter2size_robotoslabbold }}"
  class="doogma-monogramletter2size-robotoslabbold"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter3size_robotoslabbold }}"
  class="doogma-monogramletter3size-robotoslabbold"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter1size_pacifico }}"
  class="doogma-monogramletter1size-pacifico"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter2size_pacifico }}"
  class="doogma-monogramletter2size-pacifico"
>
<input
  type="hidden"
  data-doogma-value="{{ product.metafields.custom.doogma_monogramletter3size_pacifico }}"
  class="doogma-monogramletter3size-pacifico"
>

<div class="customize-page-loader">
  <div class="lds-roller">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>
<script>
$(document).ready(function() {

  var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
    return false;
  };

  if(getUrlParameter('data-variant')){


     $('.variantInputName input').each(function(){
       if($(this).attr('data-name') == getUrlParameter('data-variant')){
         $(this).trigger('click')
       }
     })
   // $('.customize-page-loader').addClass('open');

  }



  let searchParamsmain = new URLSearchParams(window.location.search);
        var checkSearchParamData = searchParamsmain.get('productData');
  if(checkSearchParamData){
    $('.customize-page-loader').addClass('open');
  }



    var a = $('.variant-input-wrap [name="Color"]:checked').attr('data-color-name');
    $('.doogma-product-specification').text(a);


    $('.customizer-legal-notice-modal, .customizer-legal-notice-doogma-modal').addClass('show');

    $(".customizer-legal-notice-modal .close, .customizer-legal-notice-modal .modal-footer .btn").click(function() {
        $('.customizer-legal-notice-modal').removeClass('show');
        $('.customizer-legal-notice-doogma-modal').removeClass('show');

    })

    $(".add-to-cart-doogma").on('click', function() {
        $(".customizer-cart-doogma-modal,.customizer-cart-modal").addClass('show');
       $('#cart-box').prop('checked', false);
        $('.doogmaAcceptAddToCart').attr('disabled','disabled');
        $('.noselect.doogma-component.doogma-image-upload-controls-panel.ng-scope.ui-draggable.ui-draggable-handle').hide();
    });

    $(".customizer-cart-doogma-modal .close,.customizer-cart-doogma-modal .back-to-design").on('click', function() {
        $(".customizer-cart-doogma-modal,.customizer-cart-modal").removeClass('show');
    });

    $(document).on("click", ".doogma-start-over", function() {
        $('.customizer-over-doogma-modal,.customizer-over-modal').addClass('show');
    })

    $('.customizer-over-doogma-modal .close, .customizer-over-doogma-modal .cansel-over-doogma').click(function() {
        $('.customizer-over-doogma-modal,.customizer-over-modal').removeClass('show');
    })
    var back = {};
    var front = {};
    front['position'] = 'front';
     $('.doogma-customization-main .switch-button .switch-button-checkbox-front-back').change(function() {
        if ($(this).prop('checked') == true) {
            $('.doogma-front-part').hide();
            $('.doogma-back-part').show();
            back['position'] = 'back';
            $('.doogma-view').attr('data-doogma-value', '{{ product.metafields.custom.doogma_view_back }}')
            $('.back-screen1').show();
            $('.back-screen3-mobile').hide();
            innerScreenHide();
            backsidetextchanges()
            frontsidetextchanges()
                // $('.doogma-front-footer .front-addtocart-btn').show();
                // $('.doogma-front-footer .bottom-doogma-btns').hide();
                // $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();
                if ($(window).width() < 767) {
                    if ($('[data-value="back"]').hasClass('completedData')) {
                        $('.front-back-images.doogmaplugin').insertAfter('.edit-back-mobile');
                        $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();
                        $('.doogma-back-footer .front-addtocart-btn').show();
                        $('.doogma-back-footer .bottom-doogma-btns').hide();
                        $('.doogma-back-body .back-screen1').hide();
                        $('.doogma-back-body .back-screen3-mobile').show()

                    } else {
                        $('.doogma-back-footer .front-addtocart-btn').show();
                        $('.doogma-back-footer .bottom-doogma-btns').hide();
                        $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();

                        $('.doogma-back-body .back-screen1').show();
                        $('.doogma-back-body .back-screen3-mobile').hide()

                    }
                } else {
                    $('.doogma-back-footer .front-addtocart-btn').show();
                    $('.doogma-back-footer .bottom-doogma-btns').hide();
                    $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();


                }

            } else {
                $('.doogma-front-part').show();
                $('.doogma-back-part').hide();
                front['position'] = 'front';
                $('.doogma-view').attr('data-doogma-value', '{{ product.metafields.custom.doogma_view_front }}')
                $('.front-screen1').show();
                $('.front-screen3-mobile').hide();
                innerScreenHide();
                $('.doogma-back-footer .front-addtocart-btn').show();
                $('.doogma-back-footer .bottom-doogma-btns').hide();
                $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();
                backsidetextchanges()
                frontsidetextchanges()
                if ($(window).width() < 767) {
                    if ($('[data-value="front"]').hasClass('completedData')) {
                      $('.front-back-images.doogmaplugin').insertAfter('.edit-front-mobile');
                        $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();
                        $('.doogma-front-footer .front-addtocart-btn').show();
                        $('.doogma-front-footer .bottom-doogma-btns').hide();

                         $('.doogma-front-body .front-screen1').hide();
                        $('.doogma-front-body .front-screen3-mobile').show()
                    } else {
                        $('.doogma-front-footer .front-addtocart-btn').show();
                        $('.doogma-front-footer .bottom-doogma-btns').hide();
                        $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();

                      $('.doogma-front-body .front-screen1').show();
                        $('.doogma-front-body .front-screen3-mobile').hide()
                    }
                } else {
                    $('.doogma-front-footer .front-addtocart-btn').show();
                    $('.doogma-front-footer .bottom-doogma-btns').hide();
                    $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();
                }
            }
        })

        // When the user can click on the add text front
        $('.front-addtext-box').click(function() {
            $('.front-screen1').hide();
            $('.front-screen3-mobile').hide();
            $('.front-screen2 .front-monogramtext').hide();
            $('.front-screen2 .front-addtext').show();
            $('.front-screen2 .front-clipart').hide();
            $('.front-screen2 .front-uploadimage').hide();

            front['selection'] = 'Add Text';
            $('.doogma-front-footer .front-addtocart-btn').hide();
            $('.doogma-front-footer .bottom-doogma-btns').show();
            $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();

            $('.doogma-addtextfront').attr('data-doogma-value', 'yes');
            $('.doogma-addmonogramfront').attr('data-doogma-value', 'no');
            $('.doogma-addclipartfront').attr('data-doogma-value', 'no');
            $('.doogma-uploadimagefront').attr('data-doogma-value', 'no');
        })

        // When user can click on the monogram front
        $('.front-monogram-box').click(function() {
            $('.front-screen1').hide();
            $('.front-screen3-mobile').hide();
            $('.front-screen2 .front-addtext').hide();
            $('.front-screen2 .front-monogramtext').show();
            $('.front-screen2 .front-clipart').hide();
            $('.front-screen2 .front-uploadimage').hide();
            front['selection'] = 'Monogram';
            $('.doogma-front-footer .front-addtocart-btn').hide();
            $('.doogma-front-footer .bottom-doogma-btns').show();
            $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();

            $('.doogma-addtextfront').attr('data-doogma-value', 'no');
            $('.doogma-addmonogramfront').attr('data-doogma-value', 'yes');
            $('.doogma-addclipartfront').attr('data-doogma-value', 'no');
            $('.doogma-uploadimagefront').attr('data-doogma-value', 'no');
        })

        // When user can click on the select image front
        $('.front-clipart-box').click(function() {
            front['selection'] = 'select Image';
            $('.front-screen1').hide();
            $('.front-screen3-mobile').hide();
            $('.front-screen2 .front-addtext').hide();
            $('.front-screen2 .front-monogramtext').hide();
            $('.front-screen2 .front-clipart').show();
            $('.front-screen2 .front-uploadimage').hide();
            $('.doogma-front-footer .front-addtocart-btn').hide();
            $('.doogma-front-footer .bottom-doogma-btns').show();
            $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();

            $('.doogma-addtextfront').attr('data-doogma-value', 'no');
            $('.doogma-addmonogramfront').attr('data-doogma-value', 'no');

            $('.doogma-uploadimagefront').attr('data-doogma-value', 'no');
        })

        // When user can click on the select image front
        $('.front-uploadimage-box').click(function() {
            front['selection'] = 'Upload Image';
            $('.front-screen1').hide();
            $('.front-screen3-mobile').hide();
            $('.front-screen2 .front-addtext').hide();
            $('.front-screen2 .front-monogramtext').hide();
            $('.front-screen2 .front-clipart').hide();


            if ($(window).width() < 767) {
              $('.front-screen3-mobile').show();
              $('.front-back-images.doogmaplugin').insertAfter('.edit-front-mobile');
          }else{
              $('.front-screen2 .front-uploadimage').show();
              $('.doogma-front-footer .front-addtocart-btn').hide();
              $('.doogma-front-footer .bottom-doogma-btns').show();
              $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();
          }


          $('.doogma-addtextfront').attr('data-doogma-value', 'no');
          $('.doogma-addmonogramfront').attr('data-doogma-value', 'no');
          $('.doogma-addclipartfront').attr('data-doogma-value', 'no');
          $('.doogma-uploadimagefront').attr('data-doogma-value', 'yes');

          imageUploadedOrNotCheck_Front();
      })

        // Back button for the front part
        $('.front-backbtn .back-btn').click(function() {
            $('.front-screen1').show();
            $('.front-screen2 .front-monogramtext').hide();
            $('.front-screen2 .front-addtext').hide();
            $('.front-screen2 .front-clipart').hide();
            $('.front-screen2 .front-uploadimage').hide();
            $('.doogma-front-footer .front-addtocart-btn').show();
            $('.doogma-front-footer .bottom-doogma-btns').hide();
            textchanges();
        })

        // Back button for the back part
        $('.back-backbtn .back-btn').click(function() {
            $('.back-screen1').show();
            $('.back-screen2 .back-monogramtext').hide();
            $('.back-screen2 .back-addtext').hide();
            $('.back-screen2 .back-clipart').hide();
            $('.back-screen2 .back-uploadimage').hide();
            $('.doogma-back-footer .front-addtocart-btn').show();
            $('.doogma-back-footer .bottom-doogma-btns').hide();
            textchanges();
        })

        $('.back-addtext-box').click(function() {
            $('.back-screen1').hide();
            $('.back-screen3-mobile').hide();

            $('.back-screen2 .back-addtext').show();
            $('.back-screen2 .back-monogramtext').hide();
            $('.back-screen2 .back-clipart').hide();
            $('.back-screen2 .back-uploadimage').hide();

            back['selection'] = 'Add Text';
            $('.doogma-back-footer .front-addtocart-btn').hide();
            $('.doogma-back-footer .bottom-doogma-btns').show();
            $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();

            $('.doogma-addtextback').attr('data-doogma-value', 'yes');
            $('.doogma-addmonogramback').attr('data-doogma-value', 'no');
            $('.doogma-addclipartback').attr('data-doogma-value', 'no');
            $('.doogma-uploadimageback').attr('data-doogma-value', 'no');
        })

        // When user click on back monogram
        $('.back-monogram-box').click(function() {
            $('.back-screen1').hide();
            $('.back-screen3-mobile').hide();

            $('.back-screen2 .back-addtext').hide();
            $('.back-screen2 .back-monogramtext').show();
            $('.back-screen2 .back-clipart').hide();
            $('.back-screen2 .back-uploadimage').hide();
            back['selection'] = 'Monogram';
            $('.doogma-back-footer .front-addtocart-btn').hide();
            $('.doogma-back-footer .bottom-doogma-btns').show();
            $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();

            $('.doogma-addtextback').attr('data-doogma-value', 'no');
            $('.doogma-addmonogramback').attr('data-doogma-value', 'yes');
            $('.doogma-addclipartback').attr('data-doogma-value', 'no');
            $('.doogma-uploadimageback').attr('data-doogma-value', 'no');
        })
        // When user click on back Clipart
        $('.back-clipart-box').click(function() {
            back['selection'] = 'select Image';
            $('.back-screen1').hide();
            $('.back-screen3-mobile').hide();

            $('.back-screen2 .back-addtext').hide();
            $('.back-screen2 .back-monogramtext').hide();
            $('.back-screen2 .back-clipart').show();
            $('.back-screen2 .back-uploadimage').hide();
            $('.doogma-back-footer .front-addtocart-btn').hide();
            $('.doogma-back-footer .bottom-doogma-btns').show();
            $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();

            $('.doogma-addtextback').attr('data-doogma-value', 'no');
            $('.doogma-addmonogramback').attr('data-doogma-value', 'no');
            $('.doogma-addclipartback').attr('data-doogma-value', 'yes');
            $('.doogma-uploadimageback').attr('data-doogma-value', 'no');
        })

        $('.back-uploadimage-box').click(function() {
            back['selection'] = 'Upload Image';
            $('.back-screen1').hide();
            $('.back-screen3-mobile').hide();

            $('.back-screen2 .back-addtext').hide();
            $('.back-screen2 .back-monogramtext').hide();
            $('.back-screen2 .back-clipart').hide();

            if ($(window).width() < 767) {
               $('.back-screen3-mobile').show();
               $('.front-back-images.doogmaplugin').insertAfter('.edit-back-mobile');
           }else{
               $('.back-screen2 .back-uploadimage').show();
               $('.doogma-back-footer .front-addtocart-btn').hide();
               $('.doogma-back-footer .bottom-doogma-btns').show();
               $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();
           }




           $('.doogma-addtextback').attr('data-doogma-value', 'no');
           $('.doogma-addmonogramback').attr('data-doogma-value', 'no');
           $('.doogma-addclipartback').attr('data-doogma-value', 'no');
           $('.doogma-uploadimageback').attr('data-doogma-value', 'yes');

           imageUploadedOrNotCheck_Back();
       })

        // Front Three line Text Logic
        $('.doogma-textareafront,.doogma-textsinglefront').on('keyup keydown', function(e) {
            var key = e.which;

          var normalValue = $(this).val();
            var normalValue = normalValue.replace(/[^0-9a-zA-Z \r\n\t\f\v]+/, '')
            $(this).val(normalValue);


            var text = $(this).val();
            var lines = text.split(/\r|\r\n|\n/);
            var data = false;
              for (var i = 0; i < lines.length; i++) {
                  if (lines[i].length > 0) {
                    console.log('Line'+[i]+'---- In if');
                    var data = true;
                  }else{
                    console.log('Line'+[i]+'---- In else');
                  }
              }

            position_hv = '';
            if ($('.front-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').prop('checked') == true) {
                position_hv = 'vertical';
                front['vertical-text'] = $(this).val();
            } else {
              if(data == true){
                position_hv = 'horizontal';
                front['text'] = $(this).val();
              }
            }



            front['addTextLogic'] = true;
            front['oriantation_position'] = position_hv;
            front['fontfamily'] = $("[name='front-addtext-font']:checked").val();
            textchanges();
            wordLengthCheckFront();

if (key == 13) {
                var numberoflines = 3;
                var text = $(this).val();
                var lines = text.split(/\r|\r\n|\n/);
                var count = lines.length;
                if (count >= numberoflines) {
                    return false;
                }
            }


        })

        // $('.doogma-textareafront').on('keydown', function(e) {
        //     var count= 1;
        //     var chars= 18;
        //     $('.doogma-textareafront').keydown(function() {
        //       var v = $(this).val();
        //       var vl = v.replace(/(\r\n|\n|\r)/gm,"").length;
        //       if (parseInt(vl/count) == chars)
        //       {
        //         $(this).val(v + '\n');
        //         count++;
        //       }
        //     });
        // })



        // Front horizontal and vertical logic
        $('.front-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').change(function() {
            if ($(this).prop('checked') == true) {
                $('.front-addtext-textoriantation .switch-button button[data-value="horizontal"]').removeClass('oriantationSelected')
                $('.front-addtext-textoriantation .switch-button button[data-value="vertical"]').addClass('oriantationSelected')
                front['oriantation_position'] = 'vertical';
                $('.doogma-textorientationfront').removeAttr('value');

                $('.doogma-textsinglefront').show();
                $('.doogma-textareafront').hide();
                $('.errormessagefront').remove();

                $('.doogma-textareafront').val('');
                delete front['text'];
                textchanges();

                $('.doogma-textorientationfront').attr('data-doogma-value', 'yes');


            } else {
                $('.front-addtext-textoriantation .switch-button button[data-value="horizontal"]').addClass('oriantationSelected')
                $('.front-addtext-textoriantation .switch-button button[data-value="vertical"]').removeClass('oriantationSelected')
                front['oriantation_position'] = 'horizontal';
                $('.doogma-textsinglefront').hide();
                $('.doogma-textareafront').show();

                $('.doogma-textsinglefront').val('');
                delete front['vertical-text'];
                textchanges();

                wordLengthCheckFront();
                $('.doogma-textorientationfront').attr('data-doogma-value', 'no');
            }
        })

        // Front font family update.
        $("[name='front-addtext-font']").change(function() {
            front['fontfamily'] = $(this).val();
        })

        // Front Monogram text logic
        $('.front-monogram-inputbox').keyup(function() {

           var monogramtypedValue = $(this).val();
         var finalValue = monogramtypedValue.replace(/[^a-zA-Z]+/, '').toUpperCase();
           $(this).val(finalValue);
            $(this).attr('data-single',finalValue.split('')[0]);
            $(this).attr('data-threedigit',finalValue);


           var max = $(this).attr('maxlength');
            if ($(this).val().length > max) {
                $(this).val($(this).val().substr(0, max));
            }

            $(this).attr('data-single',$(this).val().split('')[0]);
            $(this).attr('data-threedigit',$(this).val());

            front['mono_text'] = finalValue;
            front['selection'] = 'Monogram';
            front['mono_fontfamily'] = $("[name='front-monogramtext-fontfamily-radio']:checked").val();
            front['addMonogramLogic'] = true;
            textchanges();

        })

       $("[name='front-monogramtext-fontfamily-radio']").change(function() {
            front['mono_fontfamily'] = $(this).val();
            var a = $(this).attr('data-stylefront');
            $('.doogma-monogramstylefront').attr('data-doogma-value', a);
            if ($(this).hasClass('singlemonofront')) {
                $('.front-monogram-inputbox').attr('maxlength', '1');
                //var singlelettercase = $('.front-monogram-inputbox').val().split('')[0];
                $('.front-monogram-inputbox').val($('.front-monogram-inputbox').attr('data-single'));
              front['mono_text'] =  $('.front-monogram-inputbox').val();
            } else {
                $('.front-monogram-inputbox').attr('maxlength', '3');
                $('.front-monogram-inputbox').val($('.front-monogram-inputbox').attr('data-threedigit'));
              front['mono_text'] =  $('.front-monogram-inputbox').val();
            }
        })


        // Front select Image logic
        $('[name="front-clipart-inputbox"]').change(function() {
            $('.doogma-addclipartfront').attr('data-doogma-value', 'yes');
            front['selection'] = 'select Image';
            front['select_image'] = $(this).val();
            front['addsSlectImageLogic'] = true;
            front['image_url'] = $(this).next().css('background-image').replace('url(', '').replace(')', '').replace(/\"/gi, "");
            textchanges();
        })

        // back Three line Text Logic
        $('.doogma-textareaback,.doogma-textsingleback').on('keyup keydown', function(e) {
            var key = e.which;

            position_hv = '';

               var normalValue = $(this).val();
            var normalValue = normalValue.replace(/[^0-9a-zA-Z \r\n\t\f\v]+/, '')
            $(this).val(normalValue);

            var text = $(this).val();
            var lines = text.split(/\r|\r\n|\n/);
            var data = false;
              for (var i = 0; i < lines.length; i++) {
                  if (lines[i].length > 0) {
                    console.log('Line'+[i]+'---- In if');
                    var data = true;
                  }else{
                    console.log('Line'+[i]+'---- In else');
                  }
              }

            if ($('.back-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').prop('checked') == true) {
                position_hv = 'vertical';
                back['vertical-text'] = $(this).val();
            } else {
                if(data == true){
                position_hv = 'horizontal';
                back['text'] = $(this).val();
                }
            }
            wordLengthCheckBack();

            back['addTextLogic'] = true;
            back['oriantation_position'] = position_hv;
            back['fontfamily'] = $("[name='back-addtext-font']:checked").val();

            textchanges();
            wordLengthCheckBack();
            if (key == 13) {
                var numberoflines = 3;
                var text = $(this).val();
                var lines = text.split(/\r|\r\n|\n/);
                var count = lines.length;

                if (count >= numberoflines) {
                    return false;
                }
            }




        })

        // back horizontal and vertical logic
        $('.back-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').change(function() {
            if ($(this).prop('checked') == true) {
                $('.back-addtext-textoriantation .switch-button button[data-value="horizontal"]').removeClass('oriantationSelected')
                $('.back-addtext-textoriantation .switch-button button[data-value="vertical"]').addClass('oriantationSelected')
                back['oriantation_position'] = 'vertical';
                 $('.doogma-textorientationback').removeAttr('value');
                $('.doogma-textareaback').hide();
                $('.doogma-textsingleback').show();

                $('.doogma-textareaback').val('');
                delete back['text'];

                $('.doogma-textorientationback').attr('data-doogma-value', 'yes');
                textchanges();
                console.log(front);
                console.log(back);
            } else {
                $('.back-addtext-textoriantation .switch-button button[data-value="horizontal"]').addClass('oriantationSelected')
                $('.back-addtext-textoriantation .switch-button button[data-value="vertical"]').removeClass('oriantationSelected')
                back['oriantation_position'] = 'horizontal';

                $('.doogma-textareaback').show();
                $('.doogma-textsingleback').hide();
                $('.doogma-textorientationback').attr('data-doogma-value', 'no');

                $('.doogma-textsingleback').val('');
                delete back['vertical-text'];
                textchanges();
                console.log(front);
                console.log(back);
            }
        })

        // back font family update.
        $("[name='back-addtext-font']").change(function() {
            back['fontfamily'] = $(this).val();
        })

        // back Monogram text logic
        $('.back-monogram-inputbox').keyup(function() {

           var monogramtypedValueBack = $(this).val();
         var monofinalValue = monogramtypedValueBack.replace(/[^a-zA-Z]+/, '').toUpperCase();
            $(this).val(monofinalValue);
            $(this).attr('data-single',monofinalValue.split('')[0]);
            $(this).attr('data-threedigit',monofinalValue);


          var max = $(this).attr('maxlength');
            if ($(this).val().length > max) {
                $(this).val($(this).val().substr(0, max));
            }

            $(this).attr('data-single',$(this).val().split('')[0]);
            $(this).attr('data-threedigit',$(this).val());

            back['mono_text'] = $(this).val();
            back['selection'] = 'Monogram';
            back['mono_fontfamily'] = $("[name='back-monogramtext-fontfamily-radio']:checked").val();
            back['addMonogramLogic'] = true;
            textchanges();
        })

        // back monogram Font family logic
        $("[name='back-monogramtext-fontfamily-radio']").change(function() {
            back['mono_fontfamily'] = $(this).val();
            var a = $(this).attr('data-styleback');
            $('.doogma-monogramstyleback').attr('data-doogma-value', a);
            if ($(this).hasClass('singlemonoback')) {
                $('.back-monogram-inputbox').attr('maxlength', '1');
                 $('.back-monogram-inputbox').val($('.back-monogram-inputbox').attr('data-single'));
                back['mono_text'] =  $('.back-monogram-inputbox').val();

            } else {
              $('.back-monogram-inputbox').attr('maxlength', '3');
              $('.back-monogram-inputbox').val($('.back-monogram-inputbox').attr('data-threedigit'));
              back['mono_text'] =  $('.back-monogram-inputbox').val();
            }
        })

        // Back select Image logic
        $('[name="back-clipart-inputbox"]').change(function() {
            back['selection'] = 'select Image';
            back['select_image'] = $(this).val();
            back['addsSlectImageLogic'] = true;
            back['image_url'] = $(this).next().css('background-image').replace('url(', '').replace(')', '').replace(/\"/gi, "");
            textchanges();
        })

        // Text Changes for the screen1
        function textchanges() {
            var position = false;
            if ($('.switch-button-checkbox-front-back').prop('checked') == true) {
                position = 'Back';
            } else {
                position = 'Front'
            }

            if (position == 'Back') {
                backsidetextchanges();

            } else {
                frontsidetextchanges();

            }

        }

        $(document).on("click", ".remove-cust-front", function() {
            $('.front-option-outerbox').removeClass('other-options-selected');
            $('.front-option-outerbox .inner-boxes').removeClass('selected');
            $('.front-option-outerbox .remove-cust-front').remove();
            $('.doogma-customization-main .switch-button .check-btn-group [data-value="front"]').removeClass('completedData');

            $('.doogma-front-footer .front-addtocart-btn').show();
            $('.doogma-front-footer .bottom-doogma-btns').hide();
            $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();


            reset_front_add_text();
            reset_front_monogram_text();
            reset_front_selectimage();
            reset_front_uploadimage();
            add_Text_Front_Field();
            monogram_Text_Front_Field();
          reset_front_monogram_text();
            selectImage_Front_Field();
            uploadImage_Front_Field();
              console.log(front);
            console.log(back);
            console.log('In text changes before')


            textchanges();

            console.log(front);
            console.log(back);

        });

        $(document).on("click", ".remove-cust-back", function() {
            $('.back-option-outerbox').removeClass('other-options-selected');
            $('.back-option-outerbox .inner-boxes').removeClass('selected');
            $('.back-option-outerbox .remove-cust-back').remove();
            $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').removeClass('completedData');

            $('.doogma-back-footer .front-addtocart-btn').show();
            $('.doogma-back-footer .bottom-doogma-btns').hide();
            $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();


            reset_back_add_text();
            reset_back_monogram_text();
            reset_back_selectimage();

            reset_back_uploadimage();

          add_Text_Back_Field();
            monogram_Text_Back_Field();
          reset_back_monogram_text();
            selectImage_Back_Field();
           uploadImage_Back_Field();
            textchanges();
        })



        // Reset Front Add text
        function reset_front_add_text() {
            $('.doogma-textareafront,.doogma-textsinglefront').val('');
            $('.front-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').prop('checked', false);
            $('.front-addtext-textoriantation .switch-button button[data-value="horizontal"]').addClass('oriantationSelected')
            $('.front-addtext-textoriantation .switch-button button[data-value="vertical"]').removeClass('oriantationSelected')
            $('[name="front-addtext-font"]').removeAttr('checked');
            $('[name="front-addtext-font"]').first().trigger('click');
            $('[name="front-addtext-font"]').first().attr('checked', true);

            $('.doogma-textareafront').show();
            $('.doogma-textsinglefront').hide();

            $('.doogma-addtextfront').attr('data-doogma-value', 'no');
            $('.doogma-textorientationfront').attr('data-doogma-value', 'no');
        }

        // Reset Back Add text
        function reset_back_add_text() {
            $('.doogma-textareaback,.doogma-textsingleback').val('');
            $('.back-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').prop('checked', false);
            $('.back-addtext-textoriantation .switch-button button[data-value="horizontal"]').addClass('oriantationSelected')
            $('.back-addtext-textoriantation .switch-button button[data-value="vertical"]').removeClass('oriantationSelected')
            $('[name="back-addtext-font"]').removeAttr('checked');
            $('[name="back-addtext-font"]').first().trigger('click');
            $('[name="back-addtext-font"]').first().attr('checked', true);

            $('.doogma-textsingleback').hide();
            $('.doogma-textareaback').show();

            $('.doogma-addtextback').attr('data-doogma-value', 'no');
            $('.doogma-textorientationback').attr('data-doogma-value', 'no');
        }

        // Reset Front Monogram text
        function reset_front_monogram_text() {
            $('.front-monogram-inputbox').val('')
            $('[name="front-monogramtext-fontfamily-radio"]').removeAttr('checked');
           $('[name="front-monogramtext-fontfamily-radio"]').first().trigger('click');
            $('[name="front-monogramtext-fontfamily-radio"]').first().attr('checked', true);
            $('.doogma-addmonogramfront').attr('data-doogma-value', 'no');
          $('.front-monogram-inputbox').removeAttr('data-threedigit');
          $('.front-monogram-inputbox').removeAttr('data-single')
        }

        // Reset Back Monogram text
        function reset_back_monogram_text() {
            $('.back-monogram-inputbox').val('');
            $('[name="back-monogramtext-fontfamily-radio"]').removeAttr('checked');
           $('[name="back-monogramtext-fontfamily-radio"]').first().trigger('click');
            $('[name="back-monogramtext-fontfamily-radio"]').first().attr('checked', true);
            $('.doogma-addmonogramback').attr('data-doogma-value', 'no');
           $('.back-monogram-inputbox').removeAttr('data-threedigit');
          $('.back-monogram-inputbox').removeAttr('data-single')
        }

        // Reset Front selectImage
        function reset_front_selectimage() {
            $('.front-clipart-box.inner-boxes img').attr('src', 'https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Charcoal_Customizer_Artwork_PalmBeach_4x4_Print.png?v=1683275160');
            $('[name="front-clipart-inputbox"]').removeAttr('checked');
            $('[name="front-clipart-inputbox"]').prop("checked", false);
            $('.doogma-addclipartfront').attr('data-doogma-value', 'no');
        }

        // Reset Back selectImage
        function reset_back_selectimage() {
            $('.back-clipart-box.inner-boxes img').attr('src', 'https://cdn.shopify.com/s/files/1/0577/5559/9042/files/Charcoal_Customizer_Artwork_PalmBeach_4x4_Print.png?v=1683275160');
            $('[name="back-clipart-inputbox"]').removeAttr('checked');
            $('[name="back-clipart-inputbox"]').prop("checked", false);
            $('.doogma-addclipartback').attr('data-doogma-value', 'no');
        }

        function reset_front_uploadimage() {
            $('.doogma-uploadedimagefilefront').removeAttr('value');
            $('.doogma-uploadimagefront').attr('data-doogma-value', 'no');

        }

        function reset_back_uploadimage() {
            $('.doogma-uploadedimagefileback').removeAttr('value');
            $('.doogma-uploadimageback').attr('data-doogma-value', 'no');

        }


        // Delete all the field from the object for the front add text.
        function add_Text_Front_Field() {
            delete front['fontfamily'];
            delete front['oriantation_position'];
            delete front['position'];
            delete front['text'];
            delete front['vertical-text']
            delete front['selection'];
            delete front['addTextLogic']
            delete front['numberoflines']
        }

        // Delete all the field from the object for the back add text.
        function add_Text_Back_Field() {
            delete back['fontfamily'];
            delete back['oriantation_position'];
            delete back['position'];
            delete back['text'];
            delete back['vertical-text']
            delete back['selection'];
            delete back['addTextLogic'];
            delete back['numberoflines'];
        }

        // Delete all the field from the object for the front monogram text.
        function monogram_Text_Front_Field() {
            delete front['selection'];
            delete front['mono_text'];
            delete front['mono_fontfamily'];
            delete front['addMonogramLogic']
        }

        // Delete all the field from the object for the back monogram text.
        function monogram_Text_Back_Field() {
            delete back['selection'];
            delete back['mono_text'];
            delete back['mono_fontfamily'];
            delete back['addMonogramLogic']
        }

        // Delete all the field from the object for the front select Image.
        function selectImage_Front_Field() {
            delete front['selection'];
            delete front['select_image'];
            delete front['image_url'];
            delete front['addsSlectImageLogic'];
        }

        // Delete all the field from the object for the back select Image.
        function selectImage_Back_Field() {
            delete back['selection'];
            delete back['select_image'];
            delete back['image_url'];
            delete back['addsSlectImageLogic'];
        }

        function uploadImage_Front_Field() {
            delete front['selection'];
            delete front['FrontUploadedImage'];
        }

        function uploadImage_Back_Field() {
            delete back['selection'];
            delete back['BackUploadedImage'];
        }


        // $(document).on("click", ".doogma-start-over", function() {
        //     $(".customizer-over-modal").addClass('show');
        // });

        $('.start-over-doogma').click(function() {

            window.location.href = window.location.href.split("?")[0];
            // $('.customizer-over-doogma-modal,.customizer-over-modal').removeClass('show');
            // // Delete all the field from the object for the front add text.
            // add_Text_Front_Field();

            // // Reset all the field in the HTML for the front add text.
            // reset_front_add_text();

            // // Delete all the field from the object for the back add text.
            // add_Text_Back_Field();

            // // Reset all the field in the HTML for the back add text.
            // reset_back_add_text();

            // // Delete all the field from the object for the front monogram text.
            // monogram_Text_Front_Field();

            // // Reset all the field in the HTML for the front monogram text.
            // reset_front_monogram_text();

            // // Delete all the field from the object for the back monogram text.
            // monogram_Text_Back_Field();

            // // Reset all the field in the HTML for the Back monogram text.
            // reset_back_monogram_text();

            // // Delete all the field from the object for the front select Image.
            // selectImage_Front_Field();

            // // Reset all the field in the HTML for the front select Image.
            // reset_front_selectimage();

            // // Delete all the field from the object for the back select Image.
            // selectImage_Back_Field();

            // // Reset all the field in the HTML for the back select Image.
            // reset_back_selectimage();

            // // Delete all the field from the object for the front Upload Image.
            // uploadImage_Front_Field();

            // // Reset all the field in the HTML for the front upload Image.
            // reset_front_uploadimage();

            // // Delete all the field from the object for the Back upload Image.
            // uploadImage_Back_Field();

            // // Reset all the field in the HTML for the back upload Image.
            // reset_back_uploadimage();


            // $('.front-option-outerbox').removeClass('other-options-selected');
            // $('.front-option-outerbox .inner-boxes').removeClass('selected');
            // $('.front-option-outerbox .remove-cust-front').remove();
            // $('.doogma-customization-main .switch-button .check-btn-group [data-value="front"]').removeClass('completedData');

            // $('.back-option-outerbox').removeClass('other-options-selected');
            // $('.back-option-outerbox .inner-boxes').removeClass('selected');
            // $('.back-option-outerbox .remove-cust-back').remove();
            // $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').removeClass('completedData');

            // if ($('.switch-button-checkbox-front-back').prop('checked') == true) {
            // 	$('.back-screen1').show();
            // 	$('.back-screen2 .back-monogramtext').hide();
            // 	$('.back-screen2 .back-addtext').hide();
            // 	$('.back-screen2 .back-clipart').hide();
            // 	$('.front-screen2 .front-monogramtext').hide();
            // 	$('.front-screen2 .front-addtext').hide();
            // 	$('.front-screen2 .front-clipart').hide();
            // 	$('.doogma-front-footer .front-addtocart-btn').show();
            // 	$('.doogma-front-footer .bottom-doogma-btns').hide();


            //              $('.doogma-front-footer .front-addtocart-btn').show();
            //              $('.doogma-front-footer .bottom-doogma-btns').hide();
            //              $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();
            //              $('.front-screen3-mobile').hide();
            //              $('.back-screen3-mobile').hide();


            // } else {
            // 	$('.front-screen1').show();
            // 	$('.front-screen2 .front-monogramtext').hide();
            // 	$('.front-screen2 .front-addtext').hide();
            // 	$('.front-screen2 .front-clipart').hide();
            // 	$('.back-screen2 .back-monogramtext').hide();
            // 	$('.back-screen2 .back-addtext').show();
            // 	$('.back-screen2 .back-clipart').hide();
            // 	$('.doogma-back-footer .front-addtocart-btn').show();
            // 	$('.doogma-back-footer .bottom-doogma-btns').hide();

            //              $('.doogma-back-footer .front-addtocart-btn').show();
            //              $('.doogma-back-footer .bottom-doogma-btns').hide();
            //              $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();
            //              $('.back-screen3-mobile').hide();
            //              $('.front-screen3-mobile').hide();
            // }
            // textchanges();
        })



$("input#cart-box:checkbox").change(function() {
    var ischecked = $(this).is(':checked');
    if (!ischecked) {
        $('.doogmaAcceptAddToCart').attr('disabled', 'disabled');
    } else {
        $('.doogmaAcceptAddToCart').removeAttr('disabled');

    }
});

$('.doogmaAcceptAddToCart').click(async function(event) {

    event.preventDefault()
    console.log(front);
    console.log(back);

let searchParams = new URLSearchParams(window.location.search);
        var checkSearchParam = searchParams.get('productData');
    var updateDataObject = {};
updateDataObject[checkSearchParam] = 0;
let formData1 = {
    'updates': updateDataObject
}

var extra = await fetch('/cart/update.js', {
    method: 'POST',
    credentials: 'same-origin',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify(formData1),
});




    var ischecked = $("input#cart-box:checkbox").is(':checked');
    $(".customizer-cart-doogma-modal,.customizer-cart-modal").removeClass('show');
    if (ischecked) {

        var FrontData = ''
        var frontFlag = false;
        var front_doogmaviewyourproof = '';
        var front_doogmaviewinoutput = '';
        var frontText = '';
        var front_viewpdpurlwithselectedcustomizer = '';
        if (front['selection'] == 'Add Text' && front['fontfamily'] && front['oriantation_position'] && (front['vertical-text'] || front['text'] )) {

            if (front['oriantation_position'] == 'vertical') {
                if (front['vertical-text']) {
                    frontText += 'properties%5BFront%20Text%5D=' + front['vertical-text'] + '&';
                }
            } else {
                if (front['text']) {
                    frontText += 'properties%5BFront%20Text%5D=' + front['text'] + '&';
                }
            }
            FrontData = 'properties%5BCustom%20Front%5D=Text&' + frontText + '&properties%5BFront%20Orientation%5D=' + front['oriantation_position'] + '&properties%5BFront%20Fontfamily%5D=' + front['fontfamily'] + '&';
            frontFlag = true;
        } else if (front['selection'] == 'Monogram' && front['mono_text'] && front['mono_fontfamily']) {

            FrontData = 'properties%5BCustom%20Front%5D=' + front['selection'] + '&properties%5BFront%20Text%5D=' + front['mono_text'] + '&properties%5BFront%20MonoFontfamily%5D=' + front['mono_fontfamily'] + '&';
            frontFlag = true
        } else if (front['selection'] == 'select Image' && front['select_image'] && front['image_url']) {

            FrontData = 'properties%5BCustom%20Front%5D=Select%20Image&properties%5BFront%20selected%20Image%5D=' + front['select_image'] + '&';
            frontFlag = true;
        } else if (front['selection'] == 'Upload Image' && front['FrontUploadedImage']) {

            FrontData = 'properties%5BCustom%20Front%5D=Upload Image&properties%5B_Front%20Upload%20Image%20URL%5D=' + front['FrontUploadedImage'] + '&';
            frontFlag = true;
        }


        var BackData = '';
        var backFlag = false;
        var BackText = '';
        if (back['selection'] == 'Add Text' && back['fontfamily'] && back['oriantation_position'] && (back['vertical-text'] || back['text'] )) {


            if (back['oriantation_position'] == 'vertical') {
                if (back['vertical-text']) {
                    BackText += 'properties%5Bback%20Text%5D=' + back['vertical-text'] + '&';
                }
            } else {
                if (back['text']) {
                    BackText += 'properties%5Bback%20Text%5D=' + back['text'] + '&';
                }
            }

                    var BackData = 'properties%5BCustom%20Back%5D=Text&' + BackText + '&properties%5BBack%20Orientation%5D=' + back['oriantation_position'] + '&properties%5BBack%20Fontfamily%5D=' + back['fontfamily'] + '&';
                    backFlag = true;
                } else if (back['selection'] == 'Monogram' && back['mono_text'] && back['mono_fontfamily']) {

                    var BackData = 'properties%5BCustom%20Back%5D=Monogram&properties%5BBack%20Text%5D=' + back['mono_text'] + '&properties%5BBack%20MonoFontfamily%5D=' + back['mono_fontfamily'] + '&';
                    backFlag = true;
                } else if (back['selection'] == 'select Image' && back['select_image'] && back['image_url']) {

                    BackData = 'properties%5BCustom%20Back%5D=Select%20Image&properties%5BBack%20selected%20Image%5D=' + back['select_image'] + '&';
                    backFlag = true;
                } else if (back['selection'] == 'Upload Image' && back['BackUploadedImage']) {

                    BackData = 'properties%5BCustom%20Back%5D=Upload Image&properties%5B_Back%20Upload%20Image%20URL%5D=' + back['BackUploadedImage'] + '&';
                    backFlag = true;
                }

                var selectedColor = $('.variant-input-wrap [name="Color"]:checked').attr('data-color-name');
                var quantity = parseInt($('.doogmaquantity').val());
                front_doogmaviewyourproof = $('.doogma-viewyourproof').val();
                front_doogmaviewinoutput = $('.doogma-viewprintoutput').val();
                front_doogmasavecustomization = $('.doogma-viewproductpagewithyoursavedselections').val();
                front_doogmaviewinoutput = front_doogmaviewinoutput.split(',');
                _front_doogmaviewinoutput = front_doogmaviewinoutput[0].replace(/^\s|\s$/g, "");
                _back_doogmaviewinoutput = front_doogmaviewinoutput[1].replace(/^\s|\s$/g, "");
                _front_doogmaImage = front_doogmaviewinoutput[2].replace(/^\s|\s$/g, "");
                _back_doogmaImage = front_doogmaviewinoutput[3].replace(/^\s|\s$/g, "");
                _cart_front_doogmaImage = front_doogmaviewinoutput[4].replace(/^\s|\s$/g, "");
                _cart_back_doogmaImage = front_doogmaviewinoutput[5].replace(/^\s|\s$/g, "");
                _browsername =  $.browser.name;

                if($.browser.desktop == true)
                  _browserdevice = 'desktop';
                else if($.browser.mobile == true){
                  _browserdevice = 'mobile';
                }

                _browserOS = $.browser.platform;
                _browserversion = $.browser.version;


                var variantId = '';
                var customizefees = '';
                if (frontFlag == true && backFlag == false) {
                    $('.main-variant-hidden select option').each(function() {
                        var string = selectedColor + ' / Front';
                        if ($.trim($(this).text()) == $.trim(string)) {
                            variantId = $(this).val();
                            {% if freecustomization == true %}
                              // Only pass the underscore in "Customize Fee" proprty if free customizations are running.
                              customizefees = 'properties%5B_Customize%20Fee%5D=$6&properties%5B_front_doogmaImage%5D=' + _front_doogmaImage + '&properties%5B_back_doogmaImage%5D=' + _back_doogmaImage + '&properties%5B_Doogmaprintout_Front%5D=' + _front_doogmaviewinoutput + '&properties%5B_Doogmaprintout_Back%5D=' + _back_doogmaviewinoutput + '&properties%5B_Doogma_save_customization%5D=' + front_doogmasavecustomization + '&properties%5B_cart_front_doogmaImage%5D=' + _cart_front_doogmaImage + '&properties%5B_cart_back_doogmaImage%5D=' + _cart_back_doogmaImage + '&properties%5B_browsername%5D=' + _browsername +'&properties%5B_browserdevice%5D=' + _browserdevice + '&properties%5B_browserOS%5D=' + _browserOS + '&properties%5B_browserversion%5D=' + _browserversion + '&properties%5B_customizationmode%5D=single&';
                            {% else %}
                              customizefees = 'properties%5BCustomize%20Fee%5D=$6&properties%5B_front_doogmaImage%5D=' + _front_doogmaImage + '&properties%5B_back_doogmaImage%5D=' + _back_doogmaImage + '&properties%5B_Doogmaprintout_Front%5D=' + _front_doogmaviewinoutput + '&properties%5B_Doogmaprintout_Back%5D=' + _back_doogmaviewinoutput + '&properties%5B_Doogma_save_customization%5D=' + front_doogmasavecustomization + '&properties%5B_cart_front_doogmaImage%5D=' + _cart_front_doogmaImage + '&properties%5B_cart_back_doogmaImage%5D=' + _cart_back_doogmaImage + '&properties%5B_browsername%5D=' + _browsername +'&properties%5B_browserdevice%5D=' + _browserdevice + '&properties%5B_browserOS%5D=' + _browserOS + '&properties%5B_browserversion%5D=' + _browserversion + '&properties%5B_customizationmode%5D=single&';
                            {% endif %}
                        }
                    })
                } else if (frontFlag == false && backFlag == true) {
                    $('.main-variant-hidden select option').each(function() {
                        var string = selectedColor + ' / Back';
                        if ($.trim($(this).text()) == $.trim(string)) {
                            variantId = $(this).val();
                            {% if freecustomization == true %}
                            // Only pass the underscore in "Customize Fee" proprty if free customizations are running.
                            customizefees = 'properties%5B_Customize%20Fee%5D=$6&properties%5B_front_doogmaImage%5D=' + _front_doogmaImage + '&properties%5B_back_doogmaImage%5D=' + _back_doogmaImage + '&properties%5B_Doogmaprintout_Front%5D=' + _front_doogmaviewinoutput + '&properties%5B_Doogmaprintout_Back%5D=' + _back_doogmaviewinoutput + '&properties%5B_Doogma_save_customization%5D=' + front_doogmasavecustomization + '&properties%5B_cart_front_doogmaImage%5D=' + _cart_front_doogmaImage + '&properties%5B_cart_back_doogmaImage%5D=' + _cart_back_doogmaImage + '&properties%5B_browsername%5D=' + _browsername +'&properties%5B_browserdevice%5D=' + _browserdevice + '&properties%5B_browserOS%5D=' + _browserOS + '&properties%5B_browserversion%5D=' + _browserversion + '&properties%5B_customizationmode%5D=single&';
                            {% else %}
                            customizefees = 'properties%5BCustomize%20Fee%5D=$6&properties%5B_front_doogmaImage%5D=' + _front_doogmaImage + '&properties%5B_back_doogmaImage%5D=' + _back_doogmaImage + '&properties%5B_Doogmaprintout_Front%5D=' + _front_doogmaviewinoutput + '&properties%5B_Doogmaprintout_Back%5D=' + _back_doogmaviewinoutput + '&properties%5B_Doogma_save_customization%5D=' + front_doogmasavecustomization + '&properties%5B_cart_front_doogmaImage%5D=' + _cart_front_doogmaImage + '&properties%5B_cart_back_doogmaImage%5D=' + _cart_back_doogmaImage + '&properties%5B_browsername%5D=' + _browsername +'&properties%5B_browserdevice%5D=' + _browserdevice + '&properties%5B_browserOS%5D=' + _browserOS + '&properties%5B_browserversion%5D=' + _browserversion + '&properties%5B_customizationmode%5D=single&';
                            {% endif %}


                        }
                    })
                } else if (frontFlag == true && backFlag == true) {
                    $('.main-variant-hidden select option').each(function() {
                        var string = selectedColor + ' / Front and Back Both';
                        if ($.trim($(this).text()) == $.trim(string)) {
                            variantId = $(this).val();
                            {% if freecustomization == true %}
                            // Only pass the underscore in "Customize Fee" proprty if free customizations are running.
                            customizefees = 'properties%5B_Customize%20Fee%5D=$12&properties%5B_front_doogmaImage%5D=' + _front_doogmaImage + '&properties%5B_back_doogmaImage%5D=' + _back_doogmaImage + '&properties%5B_Doogmaprintout_Front%5D=' + _front_doogmaviewinoutput + '&properties%5B_Doogmaprintout_Back%5D=' + _back_doogmaviewinoutput + '&properties%5B_Doogma_save_customization%5D=' + front_doogmasavecustomization + '&properties%5B_cart_front_doogmaImage%5D=' + _cart_front_doogmaImage + '&properties%5B_cart_back_doogmaImage%5D=' + _cart_back_doogmaImage + '&properties%5B_browsername%5D=' + _browsername +'&properties%5B_browserdevice%5D=' + _browserdevice + '&properties%5B_browserOS%5D=' + _browserOS + '&properties%5B_browserversion%5D=' + _browserversion + '&properties%5B_customizationmode%5D=both&';
                            {% else %}
                            customizefees = 'properties%5BCustomize%20Fee%5D=$12&properties%5B_front_doogmaImage%5D=' + _front_doogmaImage + '&properties%5B_back_doogmaImage%5D=' + _back_doogmaImage + '&properties%5B_Doogmaprintout_Front%5D=' + _front_doogmaviewinoutput + '&properties%5B_Doogmaprintout_Back%5D=' + _back_doogmaviewinoutput + '&properties%5B_Doogma_save_customization%5D=' + front_doogmasavecustomization + '&properties%5B_cart_front_doogmaImage%5D=' + _cart_front_doogmaImage + '&properties%5B_cart_back_doogmaImage%5D=' + _cart_back_doogmaImage + '&properties%5B_browsername%5D=' + _browsername +'&properties%5B_browserdevice%5D=' + _browserdevice + '&properties%5B_browserOS%5D=' + _browserOS + '&properties%5B_browserversion%5D=' + _browserversion + '&properties%5B_customizationmode%5D=both&';
                            {% endif %}
                        }
                    })
                }

                var data = "form_type=product&utf8=%E2%9C%93&Color=undefined&Color=" + selectedColor + "&quantity=" + quantity + "&id=" + variantId + "&quantity=" + quantity + "&" + FrontData + BackData + customizefees + "";
                console.log(data);

                fetch(theme.routes.cartAdd, {
                    method: 'POST',
                    body: data,
                    credentials: 'same-origin',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'X-Requested-With': 'XMLHttpRequest'
                    }
                })
                .then(response => response.json())
                .then(function(data) {
                    if (data.status === 422) {
                        this.error(data);
                    } else {
                        var product = data;
                        document.dispatchEvent(new CustomEvent('ajaxProduct:added', {
                            detail: {
                                product: product,
                                addToCartBtn: this.addToCart
                            }
                        }));
                        imageReload();
                        cartDataUpdate();
                    }

                    status.loading = false;
                    this.addToCart.classList.remove('btn--loading');
                }.bind(this));


            }
        })

        // $('.doogma-saveand-preview').click(function(){
        //  if($('.switch-button-checkbox-front-back').prop('checked') == true){
        //    $('.back-screen1').show();
        //      innerScreenHide();

        //    $('.doogma-front-footer .front-addtocart-btn').show();
        //    $('.doogma-front-footer .bottom-doogma-btns').hide();
        //    if ($(window).width() < 767){
        //      $('.doogma-back-footer .bottom-doogma-btns').hide();
        //      $('.doogma-back-footer .bottom-doogma-btns-mobile').show();
        //    }else{
        //      $('.doogma-back-footer .front-addtocart-btn').show();
        //      $('.doogma-back-footer .bottom-doogma-btns').hide();
        //    }
        //  } else {
        //    $('.front-screen1').show();
        //    innerScreenHide();
        //    $('.doogma-back-footer .front-addtocart-btn').show();
        //    $('.doogma-back-footer .bottom-doogma-btns').hide();
        //    if ($(window).width() < 767){
        //      $('.doogma-front-footer .bottom-doogma-btns').hide();
        //      $('.doogma-front-footer .bottom-doogma-btns-mobile').show();
        //    }else{
        //      $('.doogma-front-footer .front-addtocart-btn').show();
        //      $('.doogma-front-footer .bottom-doogma-btns').hide();
        //    }
        //  }
        //  textchanges();
        // })

        $('.doogma-saveand-preview').click(function() {
            if ($('.switch-button-checkbox-front-back').prop('checked') == true) {
                if ($(window).width() < 767) {
                    innerScreenHide();
                    $('.back-screen3-mobile').show();
                    $('.front-back-images.doogmaplugin').insertAfter('.edit-back-mobile');
                    $('.doogma-back-footer .front-addtocart-btn').show();
                    $('.doogma-back-footer .bottom-doogma-btns').hide();
                    $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();
                    textchanges();

                } else {
                    innerScreenHide();
                    $('.back-screen1').show();
                    $('.doogma-back-footer .front-addtocart-btn').show();
                    $('.doogma-back-footer .bottom-doogma-btns').hide();
                    $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();
                    textchange();
                }
            } else {
                if ($(window).width() < 767) {
                    innerScreenHide();
                    $('.front-screen3-mobile').show();
                    $('.front-back-images.doogmaplugin').insertAfter('.edit-front-mobile');
                    $('.doogma-front-footer .front-addtocart-btn').show();
                    $('.doogma-front-footer .bottom-doogma-btns').hide();
                    $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();
                    textchanges();
                } else {
                    innerScreenHide();
                    $('.front-screen1').show();
                    $('.doogma-front-footer .front-addtocart-btn').show();
                    $('.doogma-front-footer .bottom-doogma-btns').hide();
                    $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();
                    textchanges();
                }
            }
        })




        function imageUploadedOrNotCheck_Front() {
            var imageUploadedOrNotCheckFront = false;
            var imageUploaded = setInterval(function() {
                if ($('.doogma-uploadedimagefilefront').val().length > 0) {
                    imageUploadedOrNotCheckFront = true;
                    if (front['selection']) {
                        front['FrontUploadedImage'] = $('.doogma-uploadedimagefilefront').val();
                        frontsidetextchanges();
                        backsidetextchanges();
                    }

                }
                if (imageUploadedOrNotCheckFront) {
                    clearInterval(imageUploaded);
                }
            }, 200);
        }

        function imageUploadedOrNotCheck_Back() {
            var imageUploadedOrNotCheckBack = false;
            var imageUploaded = setInterval(function() {
                if ($('.doogma-uploadedimagefileback').val().length > 0) {
                    imageUploadedOrNotCheckBack = true;
                    if (back['selection']) {
                        back['BackUploadedImage'] = $('.doogma-uploadedimagefileback').val();
                        frontsidetextchanges();
                        backsidetextchanges();
                    }

                }
                if (imageUploadedOrNotCheckBack) {
                    clearInterval(imageUploaded);
                }
            }, 200);
        }


        function innerScreenHide() {
            $('.front-screen2 .front-addtext').hide();
            $('.front-screen2 .front-monogramtext').hide();
            $('.front-screen2 .front-clipart').hide();
            $('.front-screen2 .front-uploadimage').hide();
            $('.back-screen2 .back-addtext').hide();
            $('.back-screen2 .back-monogramtext').hide();
            $('.back-screen2 .back-clipart').hide();
            $('.back-screen2 .back-uploadimage').hide();
        }

        // $('.doogma-front-footer .btn-lg.mobile-prewview').click(function(){
        //  $('.doogma-front-body .front-screen1').hide();
        //  $('.doogma-front-body .front-screen2').hide();
        //  $('.doogma-front-body .front-screen3-mobile').show();
        // })


        $('.variantInputName').click(function() {
            var a = $(this).attr('data-value');
            $('.doogma-product-specification').text(a);
        })


        $('.plusdoogmabtn').click(function() {
            var a = parseInt($('.doogmaquantity').val());
            var b = a + parseInt('1');
            var c = $('.doogmaquantity').attr('max')
            if(c >= b){
              $('.doogmaquantity').val(b);
            }
        })

        $('.minusdoogmabtn').click(function() {
            var a = parseInt($('.doogmaquantity').val());
            var b = a - parseInt('1');
            if (b > 0) {
                $('.doogmaquantity').val(b);
            }
        })


        $('.edit-front-mobile').click(function() {
            if ($('.switch-button-checkbox-front-back').prop('checked') == true) {
                if ($(window).width() < 767) {
                    if ($('[data-value="front"]').hasClass('completedData')) {
                        $('.front-screen3-mobile').hide();
                        $('.front-screen1').show();

                        $('.doogma-front-footer .front-addtocart-btn').hide();
                        $('.doogma-front-footer .bottom-doogma-btns').hide();
                        $('.doogma-front-footer .bottom-doogma-btns-mobile').show();
                    }
                }
            } else {
                if ($(window).width() < 767) {
                    if ($('[data-value="front"]').hasClass('completedData')) {
                        $('.front-screen3-mobile').hide();
                        $('.front-screen1').show();

                        $('.doogma-front-footer .front-addtocart-btn').hide();
                        $('.doogma-front-footer .bottom-doogma-btns').hide();
                        $('.doogma-front-footer .bottom-doogma-btns-mobile').show();
                    }
                }
            }
        })

        $('.btn-lg.mobile-prewview').click(function() {
            if ($('.switch-button-checkbox-front-back').prop('checked') == true) {
                if ($(window).width() < 767) {
                    $('.back-screen1').hide();
                    $('.back-screen3-mobile').show();
                    $('.front-back-images.doogmaplugin').insertAfter('.edit-back-mobile');
                    $('.doogma-back-footer .front-addtocart-btn').show();
                    $('.doogma-back-footer .bottom-doogma-btns').hide();
                    $('.doogma-back-footer .bottom-doogma-btns-mobile').hide();
                } else {

                }
            } else {
                if ($(window).width() < 767) {
                    $('.front-screen1').hide();
                    $('.front-screen3-mobile').show();
                    $('.front-back-images.doogmaplugin').insertAfter('.edit-front-mobile');
                    $('.doogma-front-footer .front-addtocart-btn').show();
                    $('.doogma-front-footer .bottom-doogma-btns').hide();
                    $('.doogma-front-footer .bottom-doogma-btns-mobile').hide();
                } else {

                }
            }
        })

        // For the Three line Front keyup events
        $('.front-addtext-inputbox').keyup(function(event) {
            var inputmaxlength = parseInt($(this).attr('maxlength'));
            var inputlength = parseInt($(this).val().length);
            if (event.keyCode === 13 || inputlength === inputmaxlength || event.keyCode === 40) {
                $(this).next('.front-addtext-inputbox').focus();
            } else if (event.keyCode === 8) {
                if (inputlength == 0) {
                    $(this).prev('.front-addtext-inputbox').focus();
                }
            } else if (event.keyCode === 38) {
                $(this).prev('.front-addtext-inputbox').focus();
            }
        })

        // For the Three line Back keyup events
        $('.back-addtext-inputbox').keyup(function(event) {
            var inputmaxlength = parseInt($(this).attr('maxlength'));
            var inputlength = parseInt($(this).val().length);
            if (event.keyCode === 13 || inputlength === inputmaxlength || event.keyCode === 40) {
                $(this).next('.back-addtext-inputbox').focus();
            } else if (event.keyCode === 8) {
                if (inputlength == 0) {
                    $(this).prev('.back-addtext-inputbox').focus();
                }
            } else if (event.keyCode === 38) {
                $(this).prev('.back-addtext-inputbox').focus();
            }
        })


        $('.edit-front-mobile').click(function() {
            if ($('.switch-button-checkbox-front-back').prop('checked') == true) {
                if ($(window).width() < 767) {
                    if ($('[data-value="front"]').hasClass('completedData')) {
                        $('.front-screen3-mobile').hide();
                        $('.front-screen1').show();

                        $('.doogma-front-footer .front-addtocart-btn').hide();
                        $('.doogma-front-footer .bottom-doogma-btns').hide();
                        $('.doogma-front-footer .bottom-doogma-btns-mobile').show();
                    }
                }
            } else {
                if ($(window).width() < 767) {
                    if ($('[data-value="front"]').hasClass('completedData')) {
                        $('.front-screen3-mobile').hide();
                        $('.front-screen1').show();

                        $('.doogma-front-footer .front-addtocart-btn').hide();
                        $('.doogma-front-footer .bottom-doogma-btns').hide();
                        $('.doogma-front-footer .bottom-doogma-btns-mobile').show();
                    }
                }
            }
        })

        // Edit Button on mobile layout
        $('.edit-back-mobile').click(function() {
            if ($(window).width() < 767) {
                if ($('[data-value="back"]').hasClass('completedData')) {
                    $('.back-screen3-mobile').hide();
                    $('.back-screen1').show();

                    $('.doogma-back-footer .front-addtocart-btn').hide();
                    $('.doogma-back-footer .bottom-doogma-btns').hide();
                    $('.doogma-back-footer .bottom-doogma-btns-mobile').show();
                }
            }
        })




 // Edit  cart functionality start.
      setTimeout(function() {
        let searchParams = new URLSearchParams(window.location.search);
        var checkSearchParam = searchParams.get('productData');

        if (checkSearchParam) {
            jQuery.getJSON('/cart.js', async function(cart) {
                $.each(cart.items, function(listItem, item) {
                    if (checkSearchParam == item.key) {
                        if (item.properties) {
                            var frontText = false;

                            var variantTitle = item.variant_title.split('/')[0].trim();
                            var frontTextLogic = false;
                            var backTextLogic = false;
                            var frontMonoLogic = false;
                            var backMonoLogic = false;

                            var frontText = '';
                            var backText = '';
                            var MonoFront = '';
                            var MonoBack = '';

                            $('.variant-input.variantInputName').each(function() {
                                if ($(this).attr('data-value') == variantTitle) {
                                    $(this).find('input').prop("checked", true).trigger("click");

                                }
                            })
                            $.each(item.properties, function(title, value) {

                                if (title == 'Custom Front' && value == 'Text') {
                                    $('.doogma-addtextfront').attr('data-doogma-value', 'yes');
                                  $('.doogma-addtextfront').removeAttr('value');
                                    front['selection'] = 'Add Text';
                                    frontTextLogic = true;
                                } else if (title == 'Custom Back' && value == 'Text') {
                                    $('.doogma-addtextback').attr('data-doogma-value', 'no');
                                   $('.doogma-addtextback').removeAttr('value');
                                    back['selection'] = 'Add Text';
                                    backTextLogic = true;
                                } else if (title == 'Custom Front' && value == 'Monogram') {

                                    $('.doogma-addmonogramfront').attr('data-doogma-value', 'yes');
                                  $('.doogma-addmonogramfront').removeAttr('value');
                                    front['selection'] = 'Monogram';
                                    frontMonoLogic = true;
                                } else if (title == 'Custom Back' && value == 'Monogram') {
                                    $('.doogma-addmonogramback').attr('data-doogma-value', 'no');
                                   $('.doogma-addmonogramback').removeAttr('value');
                                    back['selection'] = 'Monogram';
                                    backMonoLogic = true;
                                } else if (title == 'Custom Front' && value == 'Select Image') {
                                    $('.doogma-addclipartfront').attr('data-doogma-value', 'yes');
                                   $('.doogma-addclipartfront').removeAttr('value');
                                    front['selection'] = 'select Image';
                                } else if (title == 'Custom Back' && value == 'Select Image') {
                                    $('.doogma-addclipartback').attr('data-doogma-value', 'no');
                                  $('.doogma-addclipartback').removeAttr('value');
                                    back['selection'] = 'select Image';
                                } else if (title == 'Custom Front' && value == 'Upload Image') {
                                    $('.doogma-uploadimagefront').attr('data-doogma-value', 'yes');
                                   $('.doogma-uploadimagefront').removeAttr('value');
                                    front['selection'] = 'Upload Image';

                                } else if (title == 'Custom Back' && value == 'Upload Image') {
                                    $('.doogma-uploadimageback').attr('data-doogma-value', 'no');
                                   $('.doogma-uploadimageback').removeAttr('value');
                                    back['selection'] = 'Upload Image';
                                }

                                if(frontTextLogic == true){
                                  if (title == 'Front Text' && value != '') {
                                      frontText= value;
                                  }
                                }else{
                                   reset_front_add_text()
                                }



                                if(frontTextLogic == true){
                                if (title == 'Front Orientation' && value != '') {
                                    if (value == 'horizontal') {
                                        front['oriantation_position'] = 'horizontal';
                                        $('.front-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').prop('checked', false);
                                        $('.doogma-textorientationfront').attr('data-doogma-value', 'no');
                                        $('.front-addtext-textoriantation .switch-button button[data-value="horizontal"]').addClass('oriantationSelected')
                                        $('.front-addtext-textoriantation .switch-button button[data-value="vertical"]').removeClass('oriantationSelected');
                                         $('.doogma-textareafront').html(frontText);
                                        $('.doogma-textsinglefront').val('');
                                        $('.doogma-textareafront').show();
                                        $('.doogma-textsinglefront').hide();
                                                  front['text'] = frontText;

                                    } else {
                                        front['oriantation_position'] = 'vertical';
                                        $('.doogma-textareafront').html('')
                                        $('.front-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').prop('checked', true);
                                        $('.doogma-textorientationfront').attr('data-doogma-value', 'yes');
                                        $('.front-addtext-textoriantation .switch-button button[data-value="horizontal"]').removeClass('oriantationSelected')
                                        $('.front-addtext-textoriantation .switch-button button[data-value="vertical"]').addClass('oriantationSelected')
                                         $('.doogma-textareafront').html('');
                                      $('.doogma-textareafront').val('')
                                        $('.doogma-textsinglefront').val(frontText);
                                        $('.doogma-textareafront').hide();
                                        $('.doogma-textsinglefront').show();

                                      front['vertical-text'] = frontText
                                    }
                                }
                                }

                               if(frontTextLogic == true){
                                if (title == 'Front Fontfamily' && value != '') {
                                    $('[name="front-addtext-font"]').each(function() {
                                        if ($(this).val() == value) {
                                            front['fontfamily'] = value;
                                            $('[name="front-addtext-font"]').removeAttr('checked');
                                            $(this).trigger('click');
                                            $(this).attr('checked', true);
                                        }
                                    })
                                }
                               }


                               if(backTextLogic == true){
                                if (title == 'back Text' && value != '') {

                                    backText =  value;
                                }
                               }else{
                                 reset_back_add_text()
                               }

                               if(backTextLogic == true){

                                if (title == 'Back Orientation' && value != '') {
                                    if (value == 'horizontal') {
                                        back['oriantation_position'] = 'horizontal';
                                        $('.back-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').prop('checked', false);
                                        $('.doogma-textorientationback').attr('data-doogma-value', 'no');
                                        $('.back-addtext-textoriantation .switch-button button[data-value="horizontal"]').addClass('oriantationSelected')
                                        $('.back-addtext-textoriantation .switch-button button[data-value="vertical"]').removeClass('oriantationSelected');


                                          $('.doogma-textareaback').val(backText);
                                        $('.doogma-textsingleback').val('');
                                        $('.doogma-textareaback').show();
                                        $('.doogma-textsingleback').hide();
                                                  back['text'] = backText;


                                    } else {
                                        back['oriantation_position'] = 'vertical';
                                        $('.back-addtext-textoriantation .switch-button-checkbox-horizontal-vertical').prop('checked', true);
                                        $('.doogma-textorientationback').attr('data-doogma-value', 'yes');
                                        $('.back-addtext-textoriantation .switch-button button[data-value="horizontal"]').removeClass('oriantationSelected')
                                        $('.back-addtext-textoriantation .switch-button button[data-value="vertical"]').addClass('oriantationSelected')

                                          $('.doogma-textareaback').val('')
                                        $('.doogma-textsingleback').val(backText);
                                        $('.doogma-textareaback').hide();
                                        $('.doogma-textsingleback').show();

                                      back['vertical-text'] = backText;

                                    }
                                }
                               }

                                 if(backTextLogic == true){
                                if (title == 'Back Fontfamily' && value != '') {
                                    $('[name="back-addtext-font"]').each(function() {
                                        if ($(this).val() == value) {
                                            front['fontfamily'] = value;
                                            $('[name="back-addtext-font"]').removeAttr('checked');
                                            $(this).trigger('click');
                                            $(this).attr('checked', true);
                                        }
                                    })
                                }
                                 }
                                if(frontMonoLogic == true){
                                if (title == 'Front Text' && value != '') {

                                    $('[name="front-monogram-inputbox"]').val(value);
                                    front['mono_text'] = value;
                                    MonoFront = value;
                                    $('[name="front-monogram-inputbox"]').attr('data-threedigit',value);
                                    $('[name="front-monogram-inputbox"]').attr('data-single',value.split('')[0]);

                                }
                                }else{
                                 reset_front_monogram_text();
                                }


                                if (title == 'Front MonoFontfamily' && value != '') {
                                    $('[name="front-monogramtext-fontfamily-radio"]').each(function() {
                                        if ($(this).val() === value) {

                                            $('[name="front-monogramtext-fontfamily-radio"]').removeAttr('checked');
                                            // $(this).trigger('click');
                                            $('[name="front-monogramtext-fontfamily-radio"][value="'+value+'"]').trigger('click');
                                            $(this).attr('checked', true);
                                            front['mono_text'] = MonoFront;
                                            return false;
                                        }
                                    })
                                }

                                if(backMonoLogic == true){

                                if (title == 'Back Text' && value != '') {
                                    $('[name="back-monogram-inputbox"]').val(value);
                                    back['mono_text'] = value;
                                    MonoBack = value;
                                    $('[name="back-monogram-inputbox"]').attr('data-threedigit',value);
                                    $('[name="back-monogram-inputbox"]').attr('data-single',value.split('')[0]);

                                }

                                }else{
                                  reset_back_monogram_text()
                                }

                                 if(backMonoLogic == true){
                                if (title == 'Back MonoFontfamily' && value != '') {
                                    $('[name="back-monogramtext-fontfamily-radio"]').each(function() {
                                        if ($(this).val() == value) {
                                            $('[name="back-monogramtext-fontfamily-radio"]').removeAttr('checked');
                                            $(this).trigger('click');
                                            $(this).attr('checked', true);

                                            back['mono_text'] = MonoBack;
                                        }
                                    })
                                }
                                 }

                                if (title == 'Front selected Image' && value != '') {
                                    $('[name="front-clipart-inputbox"]').each(function() {
                                        if ($(this).val() == value) {
                                            $('[name="front-clipart-inputbox"]').removeAttr('checked');
                                            $(this).trigger('click');
                                            $(this).attr('checked', true);
                                        }
                                    })
                                }

                                if (title == 'Back selected Image' && value != '') {
                                    $('[name="back-clipart-inputbox"]').each(function() {
                                        if ($(this).val() == value) {
                                            $('[name="back-clipart-inputbox"]').removeAttr('checked');
                                            $(this).trigger('click');
                                            $(this).attr('checked', true);
                                            back['select_image'] = value;
                                            back['image_url'] = $(this).next().css('background-image').replace('url(', '').replace(')', '').replace(/\"/gi, "");
                                        }
                                    })
                                }


                                if (title == '_Front Upload Image URL' && value != '') {
                                    $('.doogma-uploadedimagefilefront').val(value);
                                    imageUploadedOrNotCheck_Front()
                                }

                                if (title == '_Back Upload Image URL' && value != '') {
                                    $('.doogma-uploadedimagefileback').val(value);
                                    imageUploadedOrNotCheck_Back()
                                }


                            })

console.log('hello')
console.log(front);
console.log(back);
frontsidetextchanges();
//backsidetextchanges();
if (back['selection'] && back['fontfamily'] && back['oriantation_position'] && (back['text'] || back['vertical-text'])) {
$('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').addClass('completedData');
  } else if (back['selection'] && back['mono_text'] && back['mono_fontfamily']) {
$('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').addClass('completedData');
    } else if (back['select_image'] && back['image_url']) {
  $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').addClass('completedData');
 } else if ((back['selection'] == 'Upload Image') && back['BackUploadedImage']) {
  $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').addClass('completedData');
    } else {


}
}
}
})
})
} else {
        }
         $('.customize-page-loader').removeClass('open')
       }, 9000);

function backsidetextchanges() {

    if (back['selection'] && back['fontfamily'] && back['oriantation_position'] && (back['text'] || back['vertical-text'])) {
        $('.doogma-addtextback').attr('data-doogma-value', 'yes');
        $('.back-add-text-remove-customization').remove();
        $('.back-add-text-title').after('<p class="back-add-text-remove-customization remove-cust-back">REMOVE CUSTOMIZATION</p>');
        $('.back-addtext-box.inner-boxes').addClass('selected');
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').addClass('completedData');
        $('.back-inner-monogram,.back-inner-clipart,.back-inner-uploadimage').addClass('other-options-selected');
        $('.doogma-back-footer .bottom-doogma-btns .doogma-saveand-preview').removeClass('disabledbtn');
        $('.edit-back-mobile').addClass('btnvisible');
    } else if (back['selection'] && back['mono_text'] && back['mono_fontfamily']) {
        $('.doogma-addmonogramback').attr('data-doogma-value', 'yes');
        $('.back-monogramtext-remove-customization').remove();
        $('.back-monogramtext-title').after('<p class="back-monogramtext-remove-customization remove-cust-back">REMOVE CUSTOMIZATION</p>');
        $('.back-monogram-box.inner-boxes').addClass('selected');
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').addClass('completedData');
        $('.back-inner-addtext,.back-inner-clipart,.back-inner-uploadimage').addClass('other-options-selected');
        $('.edit-back-mobile').addClass('btnvisible');
        $('.doogma-back-footer .bottom-doogma-btns .doogma-saveand-preview').removeClass('disabledbtn');
    } else if (back['select_image'] && back['image_url']) {
        $('.doogma-addclipartback').attr('data-doogma-value', 'yes');
        $('.back-selectImage-remove-customization').remove();
        $('.back-select-image-title').after('<p class="back-selectImage-remove-customization remove-cust-back">REMOVE CUSTOMIZATION</p>');
        $('.back-clipart-box.inner-boxes').addClass('selected');
        $('.back-clipart-box.inner-boxes img').attr('src', back['image_url'])
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').addClass('completedData');
        $('.back-inner-addtext,.back-inner-monogram,.back-inner-uploadimage').addClass('other-options-selected');
        $('.edit-back-mobile').addClass('btnvisible');
        $('.doogma-back-footer .bottom-doogma-btns .doogma-saveand-preview').removeClass('disabledbtn');
    } else if ((back['selection'] == 'Upload Image') && back['BackUploadedImage']) {
        $('.doogma-uploadimageback').attr('data-doogma-value', 'yes');
        $('.back-uploadImage-remove-customization').remove();
        $('.back-upload-image-title').after('<p class="back-uploadImage-remove-customization remove-cust-back">REMOVE CUSTOMIZATION</p>');
        $('.back-uploadimage-box.inner-boxes').addClass('selected');
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').addClass('completedData');
        $('.back-inner-addtext,.back-inner-monogram,.back-inner-clipart').addClass('other-options-selected');
        $('.doogma-back-footer .bottom-doogma-btns .doogma-saveand-preview').removeClass('disabledbtn');
        $('.edit-back-mobile').addClass('btnvisible');
    } else {
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="back"]').removeClass('completedData');
        $('.back-option-outerbox .inner-boxes').removeClass('selected');
        $('.back-option-outerbox .remove-cust-back').remove();
        $('.back-option-outerbox').removeClass('other-options-selected');
        $('.doogma-back-footer .bottom-doogma-btns .doogma-saveand-preview').addClass('disabledbtn');
        $('.doogma-addtextback').attr('data-doogma-value', 'no');
        $('.doogma-addmonogramback').attr('data-doogma-value', 'no');
        $('.doogma-addclipartback').attr('data-doogma-value', 'no');
        $('.doogma-uploadimageback').attr('data-doogma-value', 'no');
        $('.edit-back-mobile').removeClass('btnvisible');
    }
    addtocartenable();
    priceUpdate();
}

function frontsidetextchanges() {
    if (front['selection'] && front['fontfamily'] && front['oriantation_position'] && (front['text'] || front['vertical-text'])) {
        $('.doogma-addtextfront').attr('data-doogma-value', 'yes');
        $('.front-add-text-remove-customization').remove();
        $('.front-add-text-title').after('<p class="front-add-text-remove-customization remove-cust-front">REMOVE CUSTOMIZATION</p>');
        $('.front-addtext-box.inner-boxes').addClass('selected');
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="front"]').addClass('completedData');
        $('.front-inner-monogram,.front-inner-clipart,.front-inner-uploadimage').addClass('other-options-selected');
        $('.doogma-front-footer .bottom-doogma-btns .doogma-saveand-preview').removeClass('disabledbtn');
        $('.edit-front-mobile').addClass('btnvisible');
    } else if (front['selection'] && front['mono_text'] && front['mono_fontfamily']) {
        $('.doogma-addmonogramfront').attr('data-doogma-value', 'yes');
        $('.front-monogramtext-remove-customization').remove();
        $('.front-monogramtext-title').after('<p class="front-monogramtext-remove-customization remove-cust-front">REMOVE CUSTOMIZATION</p>');
        $('.front-monogram-box.inner-boxes').addClass('selected');
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="front"]').addClass('completedData');
        $('.front-inner-addtext,.front-inner-clipart,.front-inner-uploadimage').addClass('other-options-selected');
        $('.doogma-front-footer .bottom-doogma-btns .doogma-saveand-preview').removeClass('disabledbtn');
        $('.edit-front-mobile').addClass('btnvisible');
    } else if (front['select_image'] && front['image_url']) {
        $('.doogma-addclipartfront').attr('data-doogma-value', 'yes');
        $('.front-selectImage-remove-customization').remove();
        $('.front-select-image-title').after('<p class="front-selectImage-remove-customization remove-cust-front">REMOVE CUSTOMIZATION</p>');
        $('.front-clipart-box.inner-boxes').addClass('selected');
        $('.front-clipart-box.inner-boxes img').attr('src', front['image_url'])
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="front"]').addClass('completedData');
        $('.front-inner-addtext,.front-inner-monogram,.front-inner-uploadimage').addClass('other-options-selected');
        $('.doogma-front-footer .bottom-doogma-btns .doogma-saveand-preview').removeClass('disabledbtn');
        $('.edit-front-mobile').addClass('btnvisible');
    } else if ((front['selection'] == 'Upload Image') && front['FrontUploadedImage']) {
        $('.doogma-uploadimagefront').attr('data-doogma-value', 'yes');
        $('.front-uploadImage-remove-customization').remove();
        $('.front-upload-image-title').after('<p class="front-uploadImage-remove-customization remove-cust-front">REMOVE CUSTOMIZATION</p>');
        $('.front-uploadimage-box.inner-boxes').addClass('selected');
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="front"]').addClass('completedData');
        $('.front-inner-addtext,.front-inner-monogram,.front-inner-clipart').addClass('other-options-selected')
        $('.doogma-front-footer .bottom-doogma-btns .doogma-saveand-preview').removeClass('disabledbtn');
        $('.edit-front-mobile').addClass('btnvisible');
    } else {
        $('.doogma-customization-main .switch-button .check-btn-group [data-value="front"]').removeClass('completedData');
        $('.front-option-outerbox .inner-boxes').removeClass('selected');
        $('.front-option-outerbox .remove-cust-front').remove();
        $('.front-option-outerbox').removeClass('other-options-selected')
        $('.doogma-front-footer .bottom-doogma-btns .doogma-saveand-preview').addClass('disabledbtn');
        $('.doogma-addtextfront').attr('data-doogma-value', 'no');
        $('.doogma-addmonogramfront').attr('data-doogma-value', 'no');
        $('.doogma-addclipartfront').attr('data-doogma-value', 'no');
        $('.doogma-uploadimagefront').attr('data-doogma-value', 'no');
        $('.edit-front-mobile').removeClass('btnvisible');
    }
    addtocartenable();
    priceUpdate();
}

function addtocartenable() {
    if (
        ((front['selection'] && front['fontfamily'] && front['oriantation_position']) && (front['text'] || front['vertical-text'])) ||
        (front['selection'] && front['mono_text'] && front['mono_fontfamily']) ||
        (front['selection'] && front['image_url'] && front['select_image']) ||
        ((front['selection'] == 'Upload Image') && front['FrontUploadedImage']) ||
        ((back['selection'] && back['fontfamily'] && back['oriantation_position']) && (back['text'] || back['vertical-text'])) ||
        (back['selection'] && back['mono_text'] && back['mono_fontfamily']) ||
        (back['selection'] && back['image_url'] && back['select_image']) ||
        ((back['selection'] == 'Upload Image') && back['BackUploadedImage'])
        ) {
        $('.doogma-bottom-add-to-cart .doogma-start-over').remove();
    $('.doogma-bottom-add-to-cart').prepend('<button type="button" class="doogma-start-over">START OVER</button>');
    $('.add-to-cart-doogma').removeClass('disablebtn')
} else {
    $('.doogma-bottom-add-to-cart .doogma-start-over').remove();
    $('.add-to-cart-doogma').addClass('disablebtn')
}
}

function imageReload() {

    $('.drawer-img-loader').addClass('LoaderShow');
    var x = 0;
    var imageUploadedOrNotCheckBack = false;
    var cartImagereload = setInterval(function() {
        var frontImageLoaded = false;
        var backImageLoaded = false;
        $('.drawer-img-loader').addClass('Loadershow');

        if($('.cart-doogma-frontImage').prop("complete") == true && $('.cart-doogma-frontImage').prop("naturalWidth") !== 0){
            frontImageLoaded = true

        } else {
            $('.cart-doogma-frontImage').attr("src", $('.cart-doogma-frontImage').attr('src').split('?')[0] + `?v=123`);
            $('.cart-doogma-frontImage').addClass('divreloaded');
            frontImageLoaded = false;
        }
        if($('.cart-doogma-backImage').prop("complete")== true && $('.cart-doogma-backImage').prop("naturalWidth") !== 0 ){
          backImageLoaded = true;
      } else {
       $('.cart-doogma-backImage').attr("src", $('.cart-doogma-backImage').attr('src').split('?')[0] + `?v=123`);
       $('.cart-doogma-backImage').addClass('divreloaded');
       backImageLoaded = false;
   }

   if (++x > 10) {
      if (frontImageLoaded == true && backImageLoaded == true) {
        $('.drawer-img-loader').removeClass('Loadershow');
        clearInterval(cartImagereload);
    }
}

}, 100);



}

function wordLengthCheckFront() {
    var wordCheck = $('.doogma-textareafront').val().split(' ');
    for (i = 0; i < wordCheck.length; ++i) {
        if (wordCheck[i].length > 18) {
            var a = wordCheck[i].split("\n");
            for (j = 0; j < a.length; ++j) {
                if (a[j].length > 18) {
                    $('.errormessagefront').remove();
                    $('.doogma-textfrontcoordinatesvertical').after('<div class="errormessagefront"><p>TOO MUCH TEXT TO BE LEGIBLE</p><p>Try writing less, changing fonts, or breaking to multiple lines for larger text size.</p></div>')
                } else {
                    $('.errormessagefront').remove();
                }
            }
        } else {
            $('.errormessagefront').remove();
        }
    }
}

function wordLengthCheckBack() {
    var wordCheck = $('.doogma-textareaback').val().split(' ');
    for (i = 0; i < wordCheck.length; ++i) {
        if (wordCheck[i].length > 18) {
            var a = wordCheck[i].split("\n");
            for (j = 0; j < a.length; ++j) {
                if (a[j].length > 18) {
                    $('.errormessageback').remove();
                    $('.doogma-textbackcoordinatesvertical').after('<div class="errormessageback"><p>TOO MUCH TEXT TO BE LEGIBLE</p><p>Try writing less, changing fonts, or breaking to multiple lines for larger text size.</p></div>')
                } else {
                    $('.errormessageback').remove();
                }
            }
        } else {
            $('.errormessageback').remove();
        }
    }
}


function cartDataUpdate() {
    jQuery.getJSON('/cart.js', async function(cart) {
        $('#cart-bubble-price').text(theme.Currency.formatMoney(cart.total_price, theme.settings.moneyFormat));
    })
}

function priceUpdate() {
    console.log('function call');
    var frontprice = false;
    var backprice = false;
    var variantPrice = '';
    var variantqty = '';
    var variantselectedColor = $('.variant-input-wrap [name="Color"]:checked').attr('data-color-name');
    if (
        ((front['selection'] && front['fontfamily'] && front['oriantation_position']) && (front['text'] || front['vertical-text'])) ||
        (front['selection'] && front['mono_text'] && front['mono_fontfamily']) ||
        (front['selection'] && front['image_url'] && front['select_image']) ||
        ((front['selection'] == 'Upload Image') && front['FrontUploadedImage'])
        ) {
        frontprice = true;
} else {
    frontprice = false;
}

if (
    ((back['selection'] && back['fontfamily'] && back['oriantation_position']) && (back['text'] || back['vertical-text'])) ||
    (back['selection'] && back['mono_text'] && back['mono_fontfamily']) ||
    (back['selection'] && back['image_url'] && back['select_image']) ||
    ((back['selection'] == 'Upload Image') && back['BackUploadedImage'])
    ) {
    backprice = true;
} else {
    backprice = false;
}

if (frontprice == true && backprice == false) {
    console.log('In if')
    $('.main-variant-hidden select option').each(function() {
        var string = variantselectedColor + ' / Front';
        if ($(this).text() == string) {
            variantPrice = $(this).attr('data-price');
            comparePrice = $(this).attr('data-compareprice');
            variantqty = $(this).attr('data-qty');
        }
    })
} else if (frontprice == false && backprice == true) {
    $('.main-variant-hidden select option').each(function() {
        var string = variantselectedColor + ' / Back';
        if ($(this).text() == string) {
            variantPrice = $(this).attr('data-price');
               comparePrice = $(this).attr('data-compareprice');
          variantqty = $(this).attr('data-qty');
        }
    })
} else if (frontprice == true && backprice == true) {
    $('.main-variant-hidden select option').each(function() {
        var string = variantselectedColor + ' / Front and Back Both';
        if ($(this).text() == string) {
            variantPrice = $(this).attr('data-price');
               comparePrice = $(this).attr('data-compareprice');
          variantqty = $(this).attr('data-qty');
        }
    })
}
if (variantPrice != '') {
    $('.doogma-pricing').text(variantPrice);
    $('.doogma-comparePricing').text(comparePrice)
} else {
    var a = $('.doogma-pricing').attr('data-real-price')
    $('.doogma-pricing').text(a);

}

if(variantqty != ''){
  if(parseInt(variantqty) > 25){
    $('.doogmaquantity').attr('max','25');
  }else{
    $('.doogmaquantity').attr('max',variantqty);
  }
}else{
  $('.doogmaquantity').attr('max','25');
}


}
var maxLength = {{maxlength1 }};
var mawRow = 4;

$('.doogma-textareafront,.doogma-textareaback').on('input focus keydown keyup', function() {
    var text = $(this).val();
    var lines = text.split("\n");
    for (var i = 0; i < lines.length; i++) {
      if (lines[i].length > maxLength) {
          lines[i] = lines[i].substring(0, maxLength);
      }
  }

  while (lines.length > 4) {
      lines.pop();
  }

  $(this).val(lines.join("\n"));
});


//  $(window).on('resize',function(){location.reload();});

});
</script>

<script>
    dataLayer.push({
    event: "view_item",
    ecommerce: {
      items: [
      {
        item_id: "{{ product.id }}",
        item_name: "{{ product.title }}",
        affiliation: "Thermos",
        currency: "{{ shop.currency }}",
        index: 0,
        item_brand: "{{ product.vendor }}",
        item_category: "{{ collection.title }}",
        price: {{ product.price | money_without_currency }},
        quantity: {{ product.variants.first.inventory_quantity }}
      }
      ]
    }
  });
</script>
